{"version":3,"sources":["../../src/SRSWebRTC/SRSPlayer.js","../../src/SRSWebRTC/index.js","../../src/SRSWebRTC/useSRSWebRTC.js","../../src/AliRTS/useAliRTS.js","../../src/AliRTS/index.js","../../src/Flvjs/useFlvjs.js","../../src/Flvjs/index.js","../../src/Hlsjs/useHlsjs.js","../../src/Hlsjs/index.js","../../src/Native/index.js","../../src/Native/useNative.js","../../src/PlayerContext/index.js","../../node_modules/style-inject/dist/style-inject.es.js","../../src/PlayerSkin/PreventedTip/index.js","../../src/PlayerSkin/VideoMask/index.js","../../src/PlayerSkin/PlayState/index.js","../../src/PlayerSkin/TopState/index.js","../../src/PlayerSkin/Controls/bg.png","../../src/PlayerSkin/Controls/index.js","../../src/PlayerSkin/ControlBar/index.js","../../src/PlayerSkin/TimeSlider/index.js","../../src/PlayerSkin/Controls/PlayButton.js","../../src/PlayerSkin/Volume/index.js","../../src/PlayerSkin/PlayTime/index.js","../../src/PlayerSkin/Controls/PlayRate.js","../../src/PlayerSkin/Controls/FullscreenButton.js","../../src/PlayerSkin/Controls/PictureInPicture.js","../../src/PlayerSkin/usePlayerSkin.js","../../src/PlayerSkin/index.js","../../src/PlayerSkin/useAutoHide.js","../../src/PlayerSkinWapper/index.js","../../src/hooks/usePlayerReducer.js","../../src/ReactjsPlayer/useReactjsPlayer.js","../../src/hooks/useVideoState.js","../../src/hooks/useTime.js","../../src/hooks/useVolume.js","../../src/hooks/usePlaybackRate.js","../../src/hooks/usePiP.js","../../src/hooks/useFullscreen.js","../../src/ReactjsPlayer/index.js","../../src/GrindPlayer/GrindPlayer.js","../../src/GrindPlayer/useGrindPlayer.js","../../src/GrindPlayer/index.js","../../src/GrindPlayer/useState.js","../../src/GrindPlayer/useTime.js","../../src/GrindPlayer/useVolume.js","../../src/index.js","App.js","PlaybackRate.js","FouceLive.js","blank16x9.png","reportWebVitals.js","index.js"],"names":["SRSPlayer","this","pc","RTCPeerConnection","iceTransportPolicy","bundlePolicy","rtcpMuxPolicy","iceCandidatePoolSize","sdpSemantics","tcpCandidatePolicy","IceTransportsType","direction","event","sdp","offer","RTCSessionDescription","type","errMsg","track","sendRequest","method","body","JSON","api","streamurl","clientip","tid","Number","parseInt","Date","getTime","Math","info","Promise","fetch","url","mode","headers","response","Error","text","MediaStream","config","matched","protocol","global","host","pathname","SRSWebRTC","props","getVideoElement","src","onPlayClick","onMsgChange","ref","React","cleanup","el","loadSource","target","player","stream","useSRSWebRTC","PropTypes","isRequired","p","n","getAliRTS","resolve","script","debug","console","AliRTS","setPlayer","getVideo","configRef","onMsgChangeRef","play","destroyPlayer","currentSrc","remoteStream","detail","message","useAliRTS","getFlvjs","Flvjs","isLive","useFlvjs","getHls","Hlsjs","details","useHlsjs","Native","onError","msg","e","useNative","PlayerContext","styleInject","css","insertAt","document","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","PreventedTip","prevented","muted","className","styles","Icon","component","MutedSvg","PlayCircleOutlined","VideoMask","showControls","opacity","background","onMouseMove","onClick","PlayState","loading","paused","ended","seeking","waiting","kernelMsg","LoadingOutlined","TopState","object","Controls","hiding","dispatch","children","onMouseEnter","payload","controlsHovering","onMouseLeave","backgroundImage","transform","ControlBar","extra","getValue","rect","duration","w","getEventXCoordinate","MouseTooltip","tooltip","translateX","getMouseTranslateX","numeral","TimeSlider","currentTime","buffered","onChange","sliding","value","sliderRef","v","onMouseDown","react","left","width","update","onMouseUp","onSliderMouseOver","onSliderMouseMove","onResize","bufferedScaleX","i","end","getBufferedEnd","getBufferedScaleX","trackTranslateX","getTrackTranslateX","role","tabIndex","onKeyDown","onMouseOver","onFocus","onTouchStart","PlayButton","onPauseClick","CaretRightOutlined","PauseOutlined","Volume","volume","changeVolume","onMutedClick","UnmutedSvg","Slider","max","PlayTime","live","PlayRate","playbackRate","changePlaybackRate","visible","show","rateMenuVisible","hide","onMenuClick","parseFloat","Dropdown","overlay","Menu","selectedKeys","key","placement","trigger","FullscreenButton","fullscreen","requestFullscreen","exitFullscreen","FullscreenExitOutlined","FullscreenOutlined","PictureInPicture","pictureInPictureEnabled","pip","exitPictureInPicture","requestPictureInPicture","initialState","reducer","state","action","PlayerSkin","changeCurrentTime","usePlayerSkin","animationFrameCallback","timestamp","startAutoHide","stopAutoHide","useAutoHide","PlayerSkinWapper","enabled","onKernelError","videoRef","playerRef","clearUpdateTimeout","timeoutCallback","updateState","sync","usePlayerReducer","getPlayerElement","onCanPlay","onPause","onPlay","onPlaying","onEnded","onSeeked","onSeeking","onCanPlayThrough","onWaiting","onDocumentClick","once","useVideoState","onDurationChange","onTimeUpdate","onProgress","useTime","onVolumeChange","useVolume","onRateChange","usePlaybackRate","onEnterPictureInPicture","onLeavePictureInPicture","usePiP","videoEl","fullscreenElement","useFullscreen","ReactjsPlayer","kernel","controls","videoProps","playerProps","useReactjsPlayer","kernelProps","autoPlay","preload","emitter","index","GrindPlayer","EventEmitter","data","args","token","addListener","fn","eventMap","filter","it","onJSBridge","playerId","javascriptCallbackFunction","grindPlayerSwf","flashlsOSMFSwf","id","useGrindPlayer","stateProps","useState","timeProps","volumeProps","ReactSWF","height","wmode","allowFullScreen","allowScriptAccess","bgcolor","flashVars","bufferTime","streamType","plugin_hls","string","Hls","flvjs","delay","timeout","setTimeout","App","memo","list","setList","setInfo","setSrc","setVideoProps","useRef","Form","useForm","form","useCallback","item","find","setFieldsValue","onSubmit","values","a","current","useEffect","ua","UAParser","navigator","userAgent","device","playsInline","supportedList","enableStashBuffer","autoCleanupSourceBuffer","stashInitialSize","fixAudioTimestampGap","onVideoEvent","log","length","layout","onFinish","initialValues","Item","name","map","Option","htmlType","blank16x9","alt","onEmptied","onEncrypted","onLoadedData","onLoadedMetadata","onLoadStart","onStalled","onSuspend","onAbort","defaultActiveKey","TabPane","tab","title","column","size","label","href","PlaybackRate","useContext","changeRate","rate","FouceLive","setInterval","clearInterval","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","VConsole","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dcd0fd82.chunk.js","sourcesContent":["export default class SRSPlayer {\n  static isSupported() {\n    if (!MediaStream || !RTCPeerConnection || !RTCSessionDescription) {\n      return false;\n    }\n    if (!RTCPeerConnection.prototype.addTransceiver) {\n      return false;\n    }\n    return true;\n  }\n\n  static getApiPath(url, config) {\n    if (config.api) {\n      return config.api;\n    }\n    const matched = url.match(/^webrtc:\\/\\/([^/]+)(\\/.*)?$/);\n    if (!matched) {\n      return '';\n    }\n    const protocol = config.protocol || global.location.protocol;\n    const host = config.host || matched[1];\n    const pathname = config.pathname || '/rtc/v1/play/';\n\n    return `${protocol}//${host}${pathname}`;\n  }\n\n  constructor(url, config) {\n    // webrtc://192.168.0.225/quick/ClpheNxgRBy_XDhXXDq_CQ?vc=ivWxqY\n    this.api = SRSPlayer.getApiPath(url, config);\n    if (!this.api) {\n      return;\n    }\n    this.url = url;\n    // const matched = url.match(/^webrtc:\\/\\/([^/]+)(\\/.*)?$/);\n    // if (!matched) {\n    //   return null;\n    // }\n    // this.url = url;\n    // const protocol = 'string' === typeof config.protocol ? config.protocol : global.location.protocol;\n    // const port = 'string' === typeof config.port ? config.port : global.location.port;\n    // const pathname = 'string' === typeof config.pathname ? config.pathname : '/rtc/v1/play/';\n    // this.api = `${protocol}//${matched[1]}${pathname}`;\n    this.stream = new MediaStream();\n    this.trackList = [];\n    // return this;\n  }\n\n  subscribe() {\n    if (!this.url) {\n      return null;\n    }\n    this.unsubscribe();\n    this.createRTCPeerConnection();\n    this.connectPeerConnection().catch(() => {\n      // TODO: 异常处理\n    });\n    return this.stream;\n  }\n\n  unsubscribe() {\n    if (!this.pc) {\n      return;\n    }\n    this.closeRTCPeerConnection();\n  }\n\n  destroy() {\n    this.unsubscribe();\n\n    delete this.url;\n    delete this.api;\n    delete this.stream;\n    delete this.trackList;\n  }\n\n  createRTCPeerConnection() {\n    const pc = new RTCPeerConnection({\n      iceTransportPolicy: 'all',\n      bundlePolicy: 'max-bundle',\n      rtcpMuxPolicy: 'require',\n      iceCandidatePoolSize: '0',\n      sdpSemantics: 'unified-plan',\n      tcpCandidatePolicy: 'disable',\n      IceTransportsType: 'nohost',\n    });\n    // const pc = new RTCPeerConnection(null);\n    pc.addTransceiver('audio', { direction: 'recvonly' });\n    pc.addTransceiver('video', { direction: 'recvonly' });\n\n    // pc.onnegotiationneeded = (event) => console.log(event.type);\n    // pc.onicecandidate = (event) => console.log(event.type);\n    // pc.onicecandidateerror = (event) => console.log(event.type);\n    // pc.onsignalingstatechange = (event) => console.log(event.type);\n    // pc.oniceconnectionstatechange = (event) => console.log(event.type);\n    // pc.oniceconnectionstatechange = (event) => console.log(event.type);\n    // pc.onicegatheringstatechange = (event) => console.log(event.type);\n\n    pc.ontrack = (event) => {\n      // console.log(event.type);\n      this.stream.addTrack(event.track);\n      this.trackList.push(event.track);\n    };\n\n    // pc.onconnectionstatechange = (event) => {\n    //   console.log(`${event.type}: ${event.target.connectionState}`);\n    //   // if ('disconnected' === event.target.connectionState) {\n    //   //   onDisconnect();\n    //   // }\n    // };\n\n    this.pc = pc;\n    return this.pc;\n  }\n\n  connectPeerConnection() {\n    const { pc } = this;\n    return pc\n      .createOffer()\n      .then((offer) => pc.setLocalDescription(offer).then(() => offer))\n      .then((offer) => this.getSessionInfo({ sdp: offer.sdp }))\n      .then((sdp) => pc.setRemoteDescription(new RTCSessionDescription({ type: 'answer', sdp })));\n  }\n\n  closeRTCPeerConnection() {\n    if (this.trackList) {\n      this.trackList.forEach((track) => {\n        try {\n          this.stream.removeTrack(track);\n        } catch (errMsg) {}\n        try {\n          track.stop();\n        } catch (errMsg) {}\n      });\n      this.trackList = [];\n    }\n\n    if (!this.pc) {\n      return;\n    }\n    const { pc } = this;\n    delete this.pc;\n    pc.ontrack = () => {};\n    pc.onconnectionstatechange = () => {};\n\n    try {\n      pc.getSenders().forEach((it) => pc.removeTrack(it));\n    } catch (errMsg) {}\n    try {\n      pc.close();\n    } catch (errMsg) {}\n  }\n\n  getSessionInfo({ sdp }) {\n    return this.sendRequest(this.api, {\n      method: 'POST',\n      body: JSON.stringify({\n        api: this.api,\n        sdp,\n        streamurl: this.url,\n        clientip: null,\n        tid: Number(parseInt(new Date().getTime() * Math.random() * 100, 10))\n          .toString(16)\n          .substr(0, 7),\n      }),\n    }).then((info) => {\n      if (!info.sdp) {\n        return Promise.reject(info);\n      }\n      return info.sdp;\n    });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  sendRequest(url, opts) {\n    return fetch(url, {\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      method: 'GET',\n      ...opts,\n    })\n      .then((response) => {\n        if (200 <= response.status && 300 > response.status) {\n          return response;\n        }\n        const errMsg = new Error(response.statusText);\n        errMsg.response = response;\n        return Promise.reject(errMsg);\n      })\n      .then((response) => response.text())\n      .then((text) => {\n        try {\n          return text ? JSON.parse(text) : {};\n        } catch (errMsg) {\n          return Promise.reject(errMsg);\n        }\n      });\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useSRSWebRTC from './useSRSWebRTC';\n\nconst SRSWebRTC = (props) => {\n  useSRSWebRTC(props);\n  return null;\n};\n\nSRSWebRTC.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  config: PropTypes.object,\n  onPlayClick: PropTypes.func.isRequired,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nSRSWebRTC.defaultProps = {\n  src: '',\n  config: null,\n};\n\nexport default React.memo(\n  SRSWebRTC,\n  (p, n) =>\n    p.getVideoElement === n.getVideoElement &&\n    p.src === n.src &&\n    p.config === n.config &&\n    p.onPlayClick === n.onPlayClick &&\n    p.onMsgChange === n.onMsgChange,\n);\n","import React from 'react';\nimport SRSPlayer from './SRSPlayer';\n// import SrsRtcPlayerAsync from './SrsRtcPlayerAsync';\n\nexport default ({ getVideoElement, src, config, onPlayClick, onMsgChange }) => {\n  const ref = React.useRef({});\n\n  const cleanup = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    if (ref.current.getVideoElement) {\n      const el = ref.current.getVideoElement();\n      if (el) {\n        el.srcObject = null;\n      }\n    }\n    if (ref.current.player) {\n      try {\n        ref.current.player.destroy();\n      } catch (errMsg) {}\n      ref.current.player = null;\n    }\n  }, []);\n\n  const loadSource = React.useCallback(() => {\n    if (!ref.current || !ref.current.src) {\n      return;\n    }\n    const target = ref.current.src;\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return;\n    }\n    const player = new SRSPlayer(target, { ...ref.current.config });\n    if (!player) {\n      return;\n    }\n    ref.current.player = player;\n    const stream = player.subscribe();\n    el.pause();\n    el.srcObject = stream;\n    el.load();\n    // NOTE: iOS 微信浏览器中测试自动播放，与其他终端不一样，其他终端会加载数据并触发 canplay 事件，iOS 中并不会触发任何数据加载\n    onPlayClick();\n  }, [onPlayClick]);\n\n  React.useEffect(() => {\n    return () => {\n      cleanup();\n      ref.current = null;\n    };\n  }, [cleanup]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.getVideoElement = getVideoElement;\n    ref.current.config = config;\n    ref.current.onMsgChange = onMsgChange;\n  }, [getVideoElement, config, onMsgChange]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    cleanup();\n    ref.current.onMsgChange(null);\n    ref.current.src = src;\n    if (src) {\n      loadSource();\n    }\n  }, [loadSource, cleanup, src]);\n\n  return null;\n};\n","import React from 'react';\n\nconst getAliRTS = (src) =>\n  new Promise((resolve) => {\n    if (global.AliRTS) {\n      resolve(global.AliRTS);\n      return;\n    }\n    const script = global.document.createElement('script');\n    global.document.body.appendChild(script);\n    script.onload = () => resolve(global.AliRTS);\n    script.onerror = () => resolve(global.AliRTS);\n    script.async = true;\n    script.src = src;\n  });\n\n// eslint-disable-next-line no-console\nconst debug = console.error;\n\nconst destroyPlayer = (player) => {\n  if (!player) {\n    return;\n  }\n  try {\n    player.pause();\n  } catch (errMsg) {}\n  try {\n    player.unload();\n  } catch (errMsg) {}\n  try {\n    player.detachMediaElement();\n  } catch (errMsg) {}\n  try {\n    player.destroy();\n  } catch (errMsg) {}\n};\n\nexport default ({ getVideoElement, src, config, onMsgChange }) => {\n  const [player, setPlayer] = React.useState(null);\n\n  const getVideo = React.useRef(getVideoElement);\n  const ref = React.useRef(src);\n  const configRef = React.useRef(config);\n  const onMsgChangeRef = React.useRef(onMsgChange);\n\n  React.useEffect(() => {\n    ref.current = src;\n    configRef.current = config;\n    return () => {\n      ref.current = '';\n    };\n  }, [src, config]);\n\n  React.useEffect(() => {\n    const play = async () => {\n      await getAliRTS('https://unpkg.com/aliyun-rts-sdk');\n      if (!global.AliRTS || ref.current !== src) {\n        debug('useAliRTS: 加载 AliRTS 失败或者 src 已经变更');\n        return;\n      }\n      setPlayer(global.AliRTS.createClient());\n    };\n    setPlayer(null);\n    onMsgChangeRef.current(null);\n    if (src) {\n      play();\n    }\n  }, [src]);\n\n  React.useEffect(() => {\n    const cleanup = () => destroyPlayer(player);\n    const currentSrc = ref.current;\n    const el = getVideo.current();\n    if (!el || !player) {\n      return cleanup;\n    }\n\n    player\n      .subscribe(currentSrc)\n      .then((remoteStream) => {\n        if (currentSrc === ref.current) {\n          remoteStream.play(el);\n        }\n      })\n      .catch((errMsg) => {\n        // 订阅失败\n        // player.unsubscribe();\n        if (onMsgChangeRef && onMsgChangeRef.current && errMsg && errMsg.errorCode) {\n          onMsgChangeRef.current({ type: errMsg.errorCode, detail: errMsg.message });\n        }\n      });\n    return cleanup;\n  }, [player]);\n\n  return null;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useAliRTS from './useAliRTS';\n\nconst AliRTS = (props) => {\n  useAliRTS(props);\n  return null;\n};\n\nAliRTS.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  config: PropTypes.object,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nAliRTS.defaultProps = {\n  src: '',\n  config: null,\n};\n\nexport default React.memo(AliRTS);\n","import React from 'react';\n\nconst getFlvjs = (src) =>\n  new Promise((resolve) => {\n    if (global.flvjs) {\n      resolve(global.flvjs);\n      return;\n    }\n    const script = global.document.createElement('script');\n    global.document.body.appendChild(script);\n    script.onload = () => resolve(global.flvjs);\n    script.onerror = () => resolve(global.flvjs);\n    script.async = true;\n    script.src = src;\n  });\n\n// eslint-disable-next-line no-console\nconst debug = console.error;\n\nexport default ({ getVideoElement, src, config, onMsgChange }) => {\n  const ref = React.useRef({});\n\n  const cleanup = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    if (ref.current.player) {\n      try {\n        ref.current.player.pause();\n      } catch (errMsg) {}\n      try {\n        ref.current.player.unload();\n      } catch (errMsg) {}\n      try {\n        ref.current.player.detachMediaElement();\n      } catch (errMsg) {}\n      try {\n        ref.current.player.destroy();\n      } catch (errMsg) {}\n      ref.current.player = null;\n    }\n  }, []);\n\n  const loadSource = React.useCallback(async () => {\n    if (!ref.current || !ref.current.src) {\n      return;\n    }\n    const target = ref.current.src;\n    await getFlvjs('https://unpkg.com/flv.js/dist/flv.min.js');\n    if (!global.flvjs || !ref.current || ref.current.src !== target) {\n      debug('useFlvjs: 加载 hls.js 失败或者 src 已经变更');\n      return;\n    }\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      debug('useFlvjs: video 元素不存在');\n      // TOOD: 显示错误\n      return;\n    }\n    const player = global.flvjs.createPlayer({ isLive: true, type: 'flv', url: target }, { ...ref.current.config });\n    if (!player) {\n      return;\n    }\n    ref.current.player = player;\n    player.attachMediaElement(el);\n    player.load();\n    player.on(global.flvjs.Events.ERROR, (type, detail) => {\n      if (ref.current && ref.current.onMsgChange) {\n        ref.current.onMsgChange({ type, detail });\n      }\n    });\n  }, []);\n\n  React.useEffect(() => {\n    return () => {\n      cleanup();\n      ref.current = null;\n    };\n  }, [cleanup]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.getVideoElement = getVideoElement;\n    ref.current.config = config;\n    ref.current.onMsgChange = onMsgChange;\n  }, [getVideoElement, config, onMsgChange]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    cleanup();\n    ref.current.onMsgChange(null);\n    ref.current.src = src;\n    if (src) {\n      loadSource();\n    }\n  }, [loadSource, cleanup, src]);\n\n  return null;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useFlvjs from './useFlvjs';\n\nconst Flvjs = (props) => {\n  // console.log(`Flvjs`);\n  useFlvjs(props);\n  return null;\n};\n\nFlvjs.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  config: PropTypes.object,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nFlvjs.defaultProps = {\n  src: '',\n  config: null,\n};\n\nexport default React.memo(\n  Flvjs,\n  (p, n) =>\n    p.getVideoElement === n.getVideoElement &&\n    p.src === n.src &&\n    p.config === n.config &&\n    p.onMsgChange === n.onMsgChange,\n);\n","import React from 'react';\n\nconst getHls = (src) =>\n  new Promise((resolve) => {\n    if (global.Hls) {\n      resolve(global.Hls);\n      return;\n    }\n    const script = global.document.createElement('script');\n    global.document.body.appendChild(script);\n    script.onload = () => resolve(global.Hls);\n    script.onerror = () => resolve(global.Hls);\n    script.async = true;\n    script.src = src;\n  });\n\n// eslint-disable-next-line no-console\nconst debug = console.error;\n\nexport default ({ getVideoElement, src, config, onMsgChange }) => {\n  const ref = React.useRef({});\n\n  const cleanup = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    if (ref.current.player) {\n      try {\n        ref.current.player.destroy();\n      } catch (errMsg) {}\n      ref.current.player = null;\n    }\n  }, []);\n\n  const loadSource = React.useCallback(async () => {\n    if (!ref.current || !ref.current.src) {\n      return;\n    }\n    const target = ref.current.src;\n    await getHls('https://unpkg.com/hls.js/dist/hls.min.js');\n    if (!global.Hls || !ref.current || ref.current.src !== target) {\n      debug('useHlsjs: 加载 hls.js 失败或者 src 已经变更');\n      return;\n    }\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      debug('useHlsjs: video 元素不存在');\n      // TOOD: 显示错误\n      return;\n    }\n    const player = new global.Hls({ debug: false, ...ref.current.config });\n    if (!player) {\n      return;\n    }\n    ref.current.player = player;\n    player.attachMedia(el);\n    player.once(global.Hls.Events.MEDIA_ATTACHED, () => {\n      if (ref.current && ref.current.src === target) {\n        player.loadSource(target);\n      }\n    });\n    player.on(global.Hls.Events.ERROR, (e, info) => {\n      if (ref.current && ref.current.onMsgChange && info && info.fatal) {\n        ref.current.onMsgChange({ type: info.type, detail: info.details });\n      }\n    });\n  }, []);\n\n  React.useEffect(() => {\n    return () => {\n      cleanup();\n      ref.current = null;\n    };\n  }, [cleanup]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.getVideoElement = getVideoElement;\n    ref.current.config = config;\n    ref.current.onMsgChange = onMsgChange;\n  }, [getVideoElement, config, onMsgChange]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    cleanup();\n    ref.current.onMsgChange(null);\n    ref.current.src = src;\n    if (src) {\n      loadSource();\n    }\n  }, [loadSource, cleanup, src]);\n\n  return null;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useHlsjs from './useHlsjs';\n\nconst Hlsjs = (props) => {\n  useHlsjs(props);\n  return null;\n};\n\nHlsjs.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  config: PropTypes.object,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nHlsjs.defaultProps = {\n  src: '',\n  config: null,\n};\n\nexport default React.memo(\n  Hlsjs,\n  (p, n) =>\n    p.getVideoElement === n.getVideoElement &&\n    p.src === n.src &&\n    p.config === n.config &&\n    p.onMsgChange === n.onMsgChange,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useNative from './useNative';\n\nconst Native = (props) => {\n  useNative(props);\n  return null;\n};\n\nNative.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  onPlayClick: PropTypes.func.isRequired,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nNative.defaultProps = {\n  src: '',\n};\n\nexport default React.memo(\n  Native,\n  (p, n) =>\n    p.getVideoElement === n.getVideoElement &&\n    p.src === n.src &&\n    p.onPlayClick === n.onPlayClick &&\n    p.onMsgChange === n.onMsgChange,\n);\n","import React from 'react';\n\nexport default ({ getVideoElement, src, onPlayClick, onMsgChange }) => {\n  const ref = React.useRef({});\n\n  const onError = React.useCallback((e) => {\n    if (!ref.current || !ref.current.onMsgChange) {\n      return;\n    }\n    const msg = { type: 'Error', detail: 'Unknown exception' };\n    if (e.target && e.target.error && e.target.error.code) {\n      msg.detail = `Code ${e.target.error.code}`;\n    }\n    ref.current.onMsgChange(msg);\n  }, []);\n\n  const cleanup = React.useCallback(() => {\n    if (!ref.current || !ref.current.el) {\n      return;\n    }\n    ref.current.el.removeEventListener('error', onError);\n    ref.current.el.pause();\n    ref.current.el.src = '';\n    try {\n      ref.current.el.load();\n    } catch (errMsg) {}\n    delete ref.current.el;\n  }, [onError]);\n\n  const loadSource = React.useCallback(async () => {\n    if (!ref.current || !ref.current.src) {\n      return;\n    }\n    ref.current.el = ref.current.getVideoElement();\n    if (!ref.current.el) {\n      return;\n    }\n    ref.current.el.pause();\n    ref.current.el.src = ref.current.src;\n    ref.current.el.addEventListener('error', onError);\n    ref.current.el.load();\n    // NOTE: iOS 微信浏览器中测试自动播放，与其他终端不一样，其他终端会加载数据并触发 canplay 事件，iOS 中并不会触发任何数据加载\n    onPlayClick();\n  }, [onPlayClick, onError]);\n\n  React.useEffect(() => {\n    global.addEventListener('beforeunload', cleanup);\n    global.addEventListener('pagehide', cleanup);\n    global.addEventListener('unload', cleanup);\n    return () => {\n      cleanup();\n      ref.current = null;\n    };\n  }, [cleanup]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.getVideoElement = getVideoElement;\n    ref.current.onMsgChange = onMsgChange;\n  }, [getVideoElement, onMsgChange]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    cleanup();\n    ref.current.onMsgChange(null);\n    ref.current.src = src;\n    if (src) {\n      loadSource();\n    }\n  }, [loadSource, cleanup, src]);\n\n  return null;\n};\n","import React from 'react';\n\nconst PlayerContext = React.createContext([{}, () => {}]);\n\nexport default PlayerContext;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon, { PlayCircleOutlined } from '@ant-design/icons';\nimport { ReactComponent as MutedSvg } from '../Volume/muted.svg';\nimport styles from './index.module.less';\n\nconst PreventedTip = ({ src, prevented, muted }) => {\n  if (!src || !prevented) {\n    return null;\n  }\n  if (muted) {\n    return (\n      <div className={styles.preventedTip}>\n        <Icon className={styles.mutedSvg} component={MutedSvg} />\n        点击取消静音\n      </div>\n    );\n  }\n  return (\n    <div className={styles.preventedTip}>\n      <PlayCircleOutlined className={styles.mutedSvg} />\n      播放被阻止，点击恢复播放\n    </div>\n  );\n  // return <div className={styles.preventedTip}>视频播放被阻止</div>;\n};\n\nPreventedTip.propTypes = {\n  src: PropTypes.string,\n  prevented: PropTypes.bool.isRequired,\n  muted: PropTypes.bool.isRequired,\n};\n\nPreventedTip.defaultProps = {\n  src: '',\n};\n\nexport default React.memo(\n  PreventedTip,\n  (p, n) => p.src === n.src && p.prevented === n.prevented && p.muted === n.muted,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './index.module.less';\n\nconst VideoMask = ({ src, showControls }) => {\n  return (\n    <button\n      type=\"button\"\n      className={styles.videoMask}\n      style={src ? { opacity: 0, background: 'transparent' } : {}}\n      onMouseMove={showControls}\n      onClick={showControls}\n    />\n  );\n};\n\nVideoMask.propTypes = {\n  src: PropTypes.string,\n  showControls: PropTypes.func.isRequired,\n};\n\nVideoMask.defaultProps = {\n  src: '',\n};\n\nexport default React.memo(VideoMask, (p, n) => p.src === n.src && p.showControls === n.showControls);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { LoadingOutlined, PlayCircleOutlined } from '@ant-design/icons';\n\nimport styles from './index.module.less';\n\nconst PlayState = ({ src, loading, paused, ended, seeking, waiting, kernelMsg, onPlayClick }) => {\n  if (!src || loading || kernelMsg) {\n    return null;\n  }\n\n  if (waiting || seeking) {\n    return (\n      <div className={styles.loading}>\n        <LoadingOutlined />\n      </div>\n    );\n  }\n  if (paused || ended) {\n    return (\n      <button type=\"button\" className={styles.play} onClick={onPlayClick}>\n        <PlayCircleOutlined />\n      </button>\n    );\n  }\n  return null;\n};\n\nPlayState.propTypes = {\n  src: PropTypes.string.isRequired,\n  loading: PropTypes.bool.isRequired,\n  paused: PropTypes.bool.isRequired,\n  ended: PropTypes.bool.isRequired,\n  seeking: PropTypes.bool.isRequired,\n  waiting: PropTypes.bool.isRequired,\n  kernelMsg: PropTypes.object,\n  onPlayClick: PropTypes.func.isRequired,\n};\n\nPlayState.defaultProps = {\n  kernelMsg: null,\n};\n\nexport default React.memo(\n  PlayState,\n  (p, n) =>\n    p.src === n.src &&\n    p.loading === n.loading &&\n    p.paused === n.paused &&\n    p.ended === n.ended &&\n    p.seeking === n.seeking &&\n    p.waiting === n.waiting &&\n    p.kernelMsg === n.kernelMsg &&\n    p.onPlayClick === n.onPlayClick,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { LoadingOutlined } from '@ant-design/icons';\n\nimport styles from './index.module.less';\n\nconst TopState = ({ src, loading, kernelMsg }) => {\n  if (!src) {\n    return null;\n  }\n\n  if (kernelMsg) {\n    return (\n      <div className={styles.kernelMsg}>\n        {kernelMsg.type}: {kernelMsg.detail}\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className={styles.loading}>\n        <LoadingOutlined />\n      </div>\n    );\n  }\n  return null;\n};\n\nTopState.propTypes = {\n  src: PropTypes.string.isRequired,\n  loading: PropTypes.bool.isRequired,\n  // duration: PropTypes.number.isRequired,\n  // currentTime: PropTypes.number.isRequired,\n  kernelMsg: PropTypes.object,\n};\n\nTopState.defaultProps = {\n  kernelMsg: null,\n};\n\nexport default React.memo(\n  TopState,\n  (p, n) =>\n    p.src === n.src &&\n    p.loading === n.loading &&\n    p.duration === n.duration &&\n    p.currentTime === n.currentTime &&\n    p.kernelMsg === n.kernelMsg,\n);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==\"","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './index.module.less';\nimport bgImg from './bg.png';\n\nconst Controls = ({ hiding, dispatch, children }) => {\n  const onMouseEnter = React.useCallback(() => {\n    if (global.matchMedia) {\n      const matched = global.matchMedia('(hover: none), (pointer: coarse)');\n      if (matched && matched.matches) {\n        return;\n      }\n    }\n    dispatch({ type: 'update', payload: { controlsHovering: true } });\n  }, [dispatch]);\n\n  const onMouseLeave = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { controlsHovering: false } });\n  }, [dispatch]);\n\n  return (\n    <div\n      className={styles.controls}\n      style={{ backgroundImage: `url(${bgImg})`, transform: hiding ? 'translate(0, 48px)' : 'translate(0, 0)' }}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n    >\n      {children}\n    </div>\n  );\n};\n\nControls.propTypes = {\n  hiding: PropTypes.bool.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n};\n\nControls.defaultProps = {\n  // buffered: null,\n};\n\nexport default React.memo(\n  Controls,\n  (p, n) => p.hiding === n.hiding && p.dispatch === n.dispatch && p.children === n.children,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './index.module.less';\n\nconst ControlBar = ({ children, extra }) => {\n  return (\n    <div className={styles.controlBar}>\n      <div className={styles.flexItem}>{children}</div>\n      {extra}\n    </div>\n  );\n};\n\nControlBar.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  extra: PropTypes.node.isRequired,\n};\n\n// ControlBar.defaultProps = {\n//   // buffered: null,\n// };\n\nexport default React.memo(ControlBar, (p, n) => p.children === n.children && p.extra === n.extra);\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport numeral from 'numeral';\nimport styles from './index.module.less';\n\nconst getBufferedEnd = (currentTime, buffered) => {\n  if (!buffered) {\n    return 0;\n  }\n  for (let i = buffered.length - 1; 0 <= i; i -= 1) {\n    const end = buffered.end(i);\n    if (currentTime <= end && buffered.start(i) <= currentTime) {\n      return end;\n    }\n  }\n  return 0;\n};\n\nconst getEventXCoordinate = (e) => {\n  if (e.changedTouches && 1 <= e.changedTouches.length) {\n    return e.changedTouches[0].pageX;\n  }\n  return e.clientX || 0;\n};\n\nconst getValue = (e, rect, duration) => {\n  const w = getEventXCoordinate(e) - rect.left;\n  if (0 >= w) {\n    return 0;\n  }\n  if (w >= rect.width) {\n    return duration;\n  }\n  return Math.round((duration * w) / rect.width);\n};\n\nconst getBufferedScaleX = ({ buffered, currentTime, sliding, duration }) => {\n  if (0 >= duration || sliding) {\n    return 0;\n  }\n  const e = getBufferedEnd(currentTime, buffered);\n  return (e / duration).toFixed(3);\n};\n\nconst getTrackTranslateX = ({ duration, currentTime }) => {\n  if (0 === duration) {\n    return -100;\n  }\n  return ((100 * currentTime) / duration - 100).toFixed(1);\n};\n\nconst getMouseTranslateX = ({ duration, tooltip }) => {\n  if (0 >= duration) {\n    return 0;\n  }\n  return ((100 * tooltip) / duration).toFixed(1);\n};\n\nconst MouseTooltip = React.memo(({ duration, tooltip }) => {\n  const translateX = getMouseTranslateX({ duration, tooltip });\n  return (\n    <div className={styles.tooltip} style={{ transform: `translateX(${translateX}%)` }}>\n      <div className={styles.tip}>{numeral(tooltip).format('00:00:00')}</div>\n    </div>\n  );\n});\n\nMouseTooltip.propTypes = {\n  duration: PropTypes.number.isRequired,\n  tooltip: PropTypes.number.isRequired,\n};\n\nconst TimeSlider = React.memo(({ currentTime, duration, buffered, onChange, sliding, value, tooltip, dispatch }) => {\n  const ref = React.useRef({});\n  const sliderRef = React.useRef(null);\n\n  const onClick = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      dispatch({ type: 'update', payload: { sliding: false } });\n\n      const rect = e.currentTarget.getBoundingClientRect();\n      const v = getValue(e, rect, duration);\n      onChange(v);\n    },\n    [onChange, duration, dispatch],\n  );\n\n  const onMouseDown = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      const react = sliderRef.current.getBoundingClientRect();\n      ref.current.react = { left: react.left, width: react.width };\n      dispatch({ type: 'update', payload: { sliding: true } });\n    },\n    [dispatch],\n  );\n\n  const update = React.useCallback(() => {\n    if (!ref.current.payload) {\n      return;\n    }\n    dispatch({ type: 'update', payload: ref.current.payload });\n    delete ref.current.payload;\n  }, [dispatch]);\n\n  const onMouseUp = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      dispatch({ type: 'update', payload: { sliding: false } });\n      if (ref.current.react) {\n        const v = getValue(e, ref.current.react, duration);\n        ref.current.payload = { value: v };\n        update();\n        onChange(v);\n      }\n    },\n    [onChange, duration, update, dispatch],\n  );\n\n  const onMouseMove = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      if (!ref.current.react) {\n        return;\n      }\n      const v = getValue(e, ref.current.react, duration);\n      if (ref.current.payload) {\n        ref.current.payload.value = v;\n      } else {\n        ref.current.payload = { value: v };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [duration, update],\n  );\n\n  React.useEffect(() => {\n    if (sliding) {\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('mouseup', onMouseUp);\n\n      document.addEventListener('touchmove', onMouseMove);\n      document.addEventListener('touchcancel', onMouseUp);\n      document.addEventListener('touchend', onMouseUp);\n      return () => {\n        document.removeEventListener('mousemove', onMouseMove);\n        document.removeEventListener('mouseup', onMouseUp);\n\n        document.removeEventListener('touchmove', onMouseMove);\n        document.removeEventListener('touchcancel', onMouseUp);\n        document.removeEventListener('touchend', onMouseUp);\n      };\n    }\n    return () => {};\n  }, [sliding, onMouseMove, onMouseUp]);\n\n  const onSliderMouseOver = React.useCallback((e) => {\n    e.preventDefault();\n    const react = sliderRef.current.getBoundingClientRect();\n    ref.current.react = { left: react.left, width: react.width };\n  }, []);\n\n  const onSliderMouseMove = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      if (!ref.current.react) {\n        return;\n      }\n      const v = getValue(e, ref.current.react, duration);\n      if (ref.current.payload) {\n        ref.current.payload.tooltip = v;\n      } else {\n        ref.current.payload = { tooltip: v };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [duration, update],\n  );\n\n  const onResize = React.useCallback((e) => {\n    e.preventDefault();\n    if (!sliderRef || !sliderRef.current) {\n      return;\n    }\n    const react = sliderRef.current.getBoundingClientRect();\n    ref.current.react = { left: react.left, width: react.width };\n  }, []);\n\n  React.useEffect(() => {\n    global.addEventListener('resize', onResize);\n    return () => {\n      global.removeEventListener('resize', onResize);\n    };\n  }, [onResize]);\n\n  React.useEffect(() => {\n    return () => {\n      ref.current = {};\n    };\n  }, []);\n\n  const bufferedScaleX = getBufferedScaleX({ buffered, currentTime, sliding, duration });\n  const trackTranslateX = getTrackTranslateX({ duration, currentTime: sliding ? value : currentTime });\n\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      className={sliding ? styles.slidingSlider : styles.slider}\n      ref={sliderRef}\n      onClick={onClick}\n      onKeyDown={() => {}}\n      onMouseOver={onSliderMouseOver}\n      onMouseMove={onSliderMouseMove}\n      onFocus={() => {}}\n    >\n      <button type=\"button\" className={styles.sliderButton} onTouchStart={onMouseDown}>\n        <span className={styles.slidingTip} style={{ opacity: sliding ? 1 : 0 }}>\n          快进到：{numeral(value).format('00:00:00')}\n        </span>\n      </button>\n      <div className={styles.sliderRail}>\n        <div className={styles.sliderBuffered} style={{ transform: `scaleX(${bufferedScaleX})` }} />\n        <div className={styles.sliderTrack} style={{ transform: `translateX(${trackTranslateX}%)` }} />\n      </div>\n      <div className={styles.sliderHandleRail} style={{ transform: `translateX(${trackTranslateX}%)` }}>\n        <button type=\"button\" className={styles.sliderHandle} onMouseDown={onMouseDown} onTouchStart={onMouseDown} />\n      </div>\n      <MouseTooltip duration={duration} tooltip={sliding ? value : tooltip} />\n    </div>\n  );\n});\n\nTimeSlider.propTypes = {\n  currentTime: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n  buffered: PropTypes.object,\n  onChange: PropTypes.func.isRequired,\n  sliding: PropTypes.bool.isRequired,\n  value: PropTypes.number.isRequired,\n  tooltip: PropTypes.number.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nTimeSlider.defaultProps = {\n  buffered: null,\n};\n\nexport default React.memo(\n  TimeSlider,\n  (p, n) =>\n    p.currentTime === n.currentTime &&\n    p.duration === n.duration &&\n    p.buffered === n.buffered &&\n    p.onChange === n.onChange &&\n    p.sliding === n.sliding &&\n    p.value === n.value &&\n    p.tooltip === n.tooltip &&\n    p.dispatch === n.dispatch,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CaretRightOutlined, PauseOutlined } from '@ant-design/icons';\n// import styles from './index.module.less';\n\nconst PlayButton = ({ paused, ended, onPlayClick, onPauseClick }) => {\n  return paused || ended ? (\n    <button type=\"button\" onClick={onPlayClick}>\n      <CaretRightOutlined />\n    </button>\n  ) : (\n    <button type=\"button\" onClick={onPauseClick}>\n      <PauseOutlined />\n    </button>\n  );\n};\n\nPlayButton.propTypes = {\n  paused: PropTypes.bool.isRequired,\n  ended: PropTypes.bool.isRequired,\n  onPlayClick: PropTypes.func.isRequired,\n  onPauseClick: PropTypes.func.isRequired,\n};\n\nexport default React.memo(\n  PlayButton,\n  (p, n) =>\n    p.paused === n.paused &&\n    p.ended === n.ended &&\n    p.onPlayClick === n.onPlayClick &&\n    p.onPauseClick === n.onPauseClick,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Slider } from 'antd';\nimport Icon from '@ant-design/icons';\n// import 'antd/lib/slider/style/index.css';\nimport styles from './index.module.less';\n\nimport { ReactComponent as MutedSvg } from './muted.svg';\nimport { ReactComponent as UnmutedSvg } from './unmuted.svg';\n\nconst Volume = ({ muted, volume, changeVolume, onMutedClick }) => {\n  return (\n    <span className={styles.volume}>\n      {(muted || 0 === volume) && (\n        <button type=\"button\" onClick={onMutedClick}>\n          <Icon component={MutedSvg} />\n        </button>\n      )}\n      {!muted && 0 !== volume && (\n        <button type=\"button\" onClick={onMutedClick}>\n          <Icon component={UnmutedSvg} />\n        </button>\n      )}\n      <span className={styles.volumeSlider}>\n        <Slider value={volume * 100} onChange={(v) => changeVolume(v / 100)} max={100} />\n      </span>\n    </span>\n  );\n};\n\nVolume.propTypes = {\n  // volume\n  muted: PropTypes.bool.isRequired,\n  volume: PropTypes.number.isRequired,\n  onMutedClick: PropTypes.func.isRequired,\n  changeVolume: PropTypes.func.isRequired,\n};\n\nexport default React.memo(\n  Volume,\n  (p, n) =>\n    p.muted === n.muted &&\n    p.volume === n.volume &&\n    p.onMutedClick === n.onMutedClick &&\n    p.changeVolume === n.changeVolum,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport numeral from 'numeral';\n\nimport styles from './index.module.less';\n\nconst PlayTime = ({ live, duration, currentTime }) => {\n  return (\n    <span className={styles.controlText}>\n      {numeral(Math.round(currentTime)).format('00:00:00')}\n      {live ? (\n        <span className={styles.controlText}>\n          <span className={styles.liveDot} />\n          直播\n        </span>\n      ) : (\n        ` / ${numeral(Math.round(duration)).format('00:00:00')}`\n      )}\n    </span>\n  );\n};\n\nPlayTime.propTypes = {\n  live: PropTypes.bool.isRequired,\n  duration: PropTypes.number.isRequired,\n  currentTime: PropTypes.number.isRequired,\n};\n\nexport default React.memo(\n  PlayTime,\n  (p, n) => p.live === n.live && p.duration === n.duration && p.currentTime === n.currentTime,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, Menu } from 'antd';\n\nimport styles from './index.module.less';\n\nconst PlayRate = ({ live, playbackRate, changePlaybackRate, visible, dispatch }) => {\n  const show = React.useCallback(\n    (e) => {\n      e.stopPropagation();\n      dispatch({ type: 'update', payload: { rateMenuVisible: true } });\n    },\n    [dispatch],\n  );\n\n  const hide = React.useCallback(() => dispatch({ type: 'update', payload: { rateMenuVisible: false } }), [dispatch]);\n\n  const onMenuClick = React.useCallback(\n    (e) => {\n      changePlaybackRate(parseFloat(e.key, 10));\n      dispatch({ type: 'update', payload: { rateMenuVisible: false } });\n    },\n    [changePlaybackRate, dispatch],\n  );\n\n  React.useEffect(() => {\n    document.body.addEventListener('click', hide);\n    return () => document.body.removeEventListener('click', hide);\n  }, [hide]);\n\n  if (live) {\n    return null;\n  }\n\n  return (\n    <Dropdown\n      visible={visible}\n      overlay={\n        <Menu selectedKeys={[playbackRate.toString()]} onClick={onMenuClick}>\n          <Menu.Item key=\"0.25\">&nbsp;&nbsp;0.25 倍速&nbsp;&nbsp;</Menu.Item>\n          <Menu.Item key=\"0.5\">&nbsp;&nbsp;0.5 倍速&nbsp;&nbsp;</Menu.Item>\n          <Menu.Item key=\"1\">&nbsp;&nbsp;1 倍速&nbsp;&nbsp;</Menu.Item>\n          <Menu.Item key=\"1.25\">&nbsp;&nbsp;1.25 倍速&nbsp;&nbsp;</Menu.Item>\n          <Menu.Item key=\"1.5\">&nbsp;&nbsp;1.5 倍速&nbsp;&nbsp;</Menu.Item>\n          <Menu.Item key=\"2\">&nbsp;&nbsp;2 倍速&nbsp;&nbsp;</Menu.Item>\n        </Menu>\n      }\n      placement=\"topRight\"\n      trigger={[]}\n    >\n      <button type=\"button\" className={styles.textBtn} onClick={show}>\n        倍速\n      </button>\n    </Dropdown>\n  );\n};\n\nPlayRate.propTypes = {\n  live: PropTypes.bool.isRequired,\n  playbackRate: PropTypes.number.isRequired,\n  changePlaybackRate: PropTypes.func.isRequired,\n  visible: PropTypes.bool.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default React.memo(\n  PlayRate,\n  (p, n) =>\n    p.live === n.live &&\n    p.playbackRate === n.playbackRate &&\n    p.changePlaybackRate === n.changePlaybackRate &&\n    p.visible === n.visible &&\n    p.dispatch === n.dispatch,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FullscreenExitOutlined, FullscreenOutlined } from '@ant-design/icons';\n\nconst FullscreenButton = ({ fullscreen, requestFullscreen, exitFullscreen }) => {\n  return fullscreen ? (\n    <button type=\"button\" onClick={exitFullscreen}>\n      <FullscreenExitOutlined />\n    </button>\n  ) : (\n    <button type=\"button\" onClick={requestFullscreen}>\n      <FullscreenOutlined />\n    </button>\n  );\n};\n\nFullscreenButton.propTypes = {\n  // fullscreen\n  fullscreen: PropTypes.bool.isRequired,\n  requestFullscreen: PropTypes.func.isRequired,\n  exitFullscreen: PropTypes.func.isRequired,\n};\n\nexport default React.memo(\n  FullscreenButton,\n  (p, n) =>\n    p.fullscreen === n.fullscreen &&\n    p.requestFullscreen === n.requestFullscreen &&\n    p.exitFullscreen === n.exitFullscreen,\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './index.module.less';\n\nconst PictureInPicture = ({ pictureInPictureEnabled, pip, exitPictureInPicture, requestPictureInPicture }) => {\n  if (!pictureInPictureEnabled) {\n    return null;\n  }\n  return (\n    <button type=\"button\" className={styles.textBtn} onClick={pip ? exitPictureInPicture : requestPictureInPicture}>\n      画中画\n    </button>\n  );\n};\n\nPictureInPicture.propTypes = {\n  pictureInPictureEnabled: PropTypes.bool.isRequired,\n  pip: PropTypes.bool.isRequired,\n  exitPictureInPicture: PropTypes.func.isRequired,\n  requestPictureInPicture: PropTypes.func.isRequired,\n};\n\nexport default React.memo(\n  PictureInPicture,\n  (p, n) =>\n    p.pictureInPictureEnabled === n.pictureInPictureEnabled &&\n    p.pip === n.pip &&\n    p.exitPictureInPicture === n.exitPictureInPicture &&\n    p.requestPictureInPicture === n.requestPictureInPicture,\n);\n","import React from 'react';\n\nconst initialState = {\n  controlsHovering: false,\n  sliding: false,\n  value: 0,\n  tooltip: 0,\n  hiding: false,\n  rateMenuVisible: false,\n};\n\nconst reducer = (state, action) => {\n  if ('reset' === action.type) {\n    return { ...initialState, ...action.payload };\n  }\n  return { ...state, ...action.payload };\n};\n\nexport default () => {\n  const [{ controlsHovering, hiding, sliding, value, tooltip, rateMenuVisible }, dispatch] = React.useReducer(\n    reducer,\n    initialState,\n  );\n  // const ref = React.useRef({});\n\n  React.useEffect(() => {\n    // console.log('usePlayerSkin');\n    return () => {\n      dispatch({ type: 'reset' });\n    };\n  }, []);\n\n  return {\n    dispatch,\n    controlsHovering,\n    hiding,\n    sliding,\n    value,\n    tooltip,\n    rateMenuVisible,\n  };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PreventedTip from './PreventedTip';\nimport VideoMask from './VideoMask';\nimport PlayState from './PlayState';\nimport TopState from './TopState';\n\nimport Controls from './Controls';\nimport ControlBar from './ControlBar';\nimport TimeSlider from './TimeSlider';\nimport PlayButton from './Controls/PlayButton';\nimport Volume from './Volume';\nimport PlayTime from './PlayTime';\nimport PlayRate from './Controls/PlayRate';\nimport FullscreenButton from './Controls/FullscreenButton';\nimport PictureInPicture from './Controls/PictureInPicture';\n\nimport usePlayerSkin from './usePlayerSkin';\nimport useAutoHide from './useAutoHide';\nimport 'antd/lib/tooltip/style/index.css';\nimport 'antd/lib/slider/style/index.css';\nimport 'antd/lib/dropdown/style/index.css';\nimport styles from './index.module.less';\n\nconst PlayerSkin = ({\n  live,\n  src,\n  prevented,\n  loading,\n  paused,\n  ended,\n  seeking,\n  waiting,\n  onPlayClick,\n  onPauseClick,\n  duration,\n  buffered,\n  currentTime,\n  changeCurrentTime,\n  muted,\n  volume,\n  changeVolume,\n  onMutedClick,\n  playbackRate,\n  changePlaybackRate,\n  pictureInPictureEnabled,\n  pip,\n  requestPictureInPicture,\n  exitPictureInPicture,\n  fullscreen,\n  requestFullscreen,\n  exitFullscreen,\n  kernelMsg,\n}) => {\n  const { dispatch, controlsHovering, hiding, sliding, value, tooltip, rateMenuVisible } = usePlayerSkin();\n\n  const { show } = useAutoHide({\n    src,\n    loading,\n    prevented,\n    paused,\n    ended,\n    waiting,\n    seeking,\n    kernelMsg,\n    dispatch,\n    controlsHovering,\n    sliding,\n    rateMenuVisible,\n  });\n\n  return (\n    <div className={styles.playerSkin}>\n      <VideoMask src={src} showControls={show} />\n      <PlayState\n        src={src}\n        loading={loading}\n        paused={paused}\n        ended={ended}\n        waiting={waiting}\n        seeking={seeking}\n        kernelMsg={kernelMsg}\n        onPlayClick={onPlayClick}\n      />\n      <Controls hiding={hiding} dispatch={dispatch}>\n        {false === live && (\n          <TimeSlider\n            currentTime={currentTime}\n            duration={duration}\n            buffered={buffered}\n            onChange={changeCurrentTime}\n            sliding={sliding}\n            value={value}\n            tooltip={tooltip}\n            dispatch={dispatch}\n          />\n        )}\n        <ControlBar\n          extra={\n            <>\n              <PictureInPicture\n                pictureInPictureEnabled={pictureInPictureEnabled}\n                pip={pip}\n                requestPictureInPicture={requestPictureInPicture}\n                exitPictureInPicture={exitPictureInPicture}\n              />\n              <PlayRate\n                live={live}\n                playbackRate={playbackRate}\n                changePlaybackRate={changePlaybackRate}\n                dispatch={dispatch}\n                visible={rateMenuVisible}\n              />\n              <FullscreenButton\n                fullscreen={fullscreen}\n                requestFullscreen={requestFullscreen}\n                exitFullscreen={exitFullscreen}\n              />\n            </>\n          }\n        >\n          <PlayButton paused={paused} ended={ended} onPauseClick={onPauseClick} onPlayClick={onPlayClick} />\n          <Volume muted={muted} volume={volume} onMutedClick={onMutedClick} changeVolume={changeVolume} />\n          <PlayTime live={live} currentTime={currentTime} duration={duration} />\n        </ControlBar>\n      </Controls>\n      <PreventedTip src={src} prevented={prevented} muted={muted} />\n      <TopState src={src} loading={loading} kernelMsg={kernelMsg} />\n    </div>\n  );\n};\n\nPlayerSkin.propTypes = {\n  live: PropTypes.bool,\n  src: PropTypes.string,\n  // controls: PropTypes.bool.isRequired,\n  // state\n  loading: PropTypes.bool.isRequired,\n  prevented: PropTypes.bool.isRequired,\n  paused: PropTypes.bool.isRequired,\n  ended: PropTypes.bool.isRequired,\n  seeking: PropTypes.bool.isRequired,\n  waiting: PropTypes.bool.isRequired,\n  onPlayClick: PropTypes.func.isRequired,\n  onPauseClick: PropTypes.func.isRequired,\n  // time\n  duration: PropTypes.number.isRequired,\n  buffered: PropTypes.object,\n  currentTime: PropTypes.number.isRequired,\n  changeCurrentTime: PropTypes.func.isRequired,\n  // volume\n  muted: PropTypes.bool.isRequired,\n  volume: PropTypes.number.isRequired,\n  changeVolume: PropTypes.func.isRequired,\n  onMutedClick: PropTypes.func.isRequired,\n  // playbackRate\n  playbackRate: PropTypes.number.isRequired,\n  changePlaybackRate: PropTypes.func.isRequired,\n  // pip\n  pictureInPictureEnabled: PropTypes.bool.isRequired,\n  pip: PropTypes.bool.isRequired,\n  requestPictureInPicture: PropTypes.func.isRequired,\n  exitPictureInPicture: PropTypes.func.isRequired,\n  // fullscreen\n  fullscreen: PropTypes.bool.isRequired,\n  requestFullscreen: PropTypes.func.isRequired,\n  exitFullscreen: PropTypes.func.isRequired,\n  // kernel\n  kernelMsg: PropTypes.object,\n};\n\nPlayerSkin.defaultProps = {\n  live: false,\n  src: '',\n  buffered: null,\n  kernelMsg: null,\n};\n\nexport default React.memo(\n  PlayerSkin,\n  (p, n) =>\n    p.live === n.live &&\n    p.src === n.src &&\n    // p.controls === n.controls &&\n    p.loading === n.loading &&\n    p.prevented === n.prevented &&\n    p.paused === n.paused &&\n    p.seeking === n.seeking &&\n    p.waiting === n.waiting &&\n    p.duration === n.duration &&\n    p.currentTime === n.currentTime &&\n    p.buffered === n.buffered &&\n    p.muted === n.muted &&\n    p.volume === n.volume &&\n    p.playbackRate === n.playbackRate &&\n    p.pictureInPictureEnabled === n.pictureInPictureEnabled &&\n    p.pip === n.pip &&\n    p.fullscreen === n.fullscreen &&\n    p.kernelMsg === n.kernelMsg &&\n    p.getVideoElement === n.getVideoElement &&\n    p.onPauseClick === n.onPauseClick &&\n    p.onPlayClick === n.onPlayClick &&\n    p.changeCurrentTime === n.changeCurrentTime &&\n    p.onMutedClick === n.onMutedClick &&\n    p.changeVolume === n.changeVolume &&\n    p.changePlaybackRate === n.changePlaybackRate &&\n    p.requestPictureInPicture === n.requestPictureInPicture &&\n    p.exitPictureInPicture === n.exitPictureInPicture &&\n    p.requestFullscreen === n.requestFullscreen &&\n    p.exitFullscreen === n.exitFullscreen,\n);\n","import React from 'react';\n\nexport default ({\n  src,\n  loading,\n  prevented,\n  paused,\n  ended,\n  waiting,\n  seeking,\n  kernelMsg,\n  controlsHovering,\n  sliding,\n  rateMenuVisible,\n  dispatch,\n}) => {\n  const ref = React.useRef({});\n\n  const animationFrameCallback = React.useCallback(\n    (timestamp) => {\n      if (!ref.current.requestID || true === ref.current.hiding) {\n        return;\n      }\n      if (!ref.current.timestamp) {\n        ref.current.timestamp = timestamp;\n      }\n      if (3 * 1000 > timestamp - ref.current.timestamp) {\n        ref.current.requestID = global.requestAnimationFrame(animationFrameCallback);\n        return;\n      }\n      dispatch({ type: 'update', payload: { hiding: true } });\n      ref.current.hiding = true;\n      delete ref.current.requestID;\n      delete ref.current.timestamp;\n    },\n    [dispatch],\n  );\n\n  const startAutoHide = React.useCallback(() => {\n    if (false !== ref.current.hiding) {\n      dispatch({ type: 'update', payload: { hiding: false } });\n      ref.current.hiding = false;\n    }\n    delete ref.current.timestamp;\n    if (ref.current.requestID) {\n      return;\n    }\n    ref.current.requestID = global.requestAnimationFrame(animationFrameCallback);\n  }, [dispatch, animationFrameCallback]);\n\n  const stopAutoHide = React.useCallback(() => {\n    if (true !== ref.current.hiding) {\n      dispatch({ type: 'update', payload: { hiding: false } });\n      ref.current.hiding = false;\n    }\n    if (ref.current.requestID) {\n      global.cancelAnimationFrame(ref.current.requestID);\n    }\n    delete ref.current.requestID;\n    delete ref.current.timestamp;\n  }, [dispatch]);\n\n  React.useEffect(() => {\n    if (\n      !src ||\n      loading ||\n      prevented ||\n      paused ||\n      ended ||\n      waiting ||\n      seeking ||\n      sliding ||\n      rateMenuVisible ||\n      controlsHovering ||\n      kernelMsg\n    ) {\n      stopAutoHide();\n    } else {\n      startAutoHide();\n    }\n  }, [\n    src,\n    loading,\n    prevented,\n    paused,\n    ended,\n    waiting,\n    seeking,\n    controlsHovering,\n    sliding,\n    rateMenuVisible,\n    kernelMsg,\n    startAutoHide,\n    stopAutoHide,\n  ]);\n\n  return { show: startAutoHide };\n};\n","import React from 'react';\nimport PlayerContext from '../PlayerContext';\nimport PlayerSkin from '../PlayerSkin';\n\nconst PlayerSkinWapper = () => {\n  const props = React.useContext(PlayerContext);\n  return <PlayerSkin {...props} />;\n};\n\nexport default PlayerSkinWapper;\n","import React from 'react';\n\nconst initialState = {\n  loading: false,\n  prevented: false,\n  paused: false,\n  ended: false,\n  seeking: false,\n  waiting: false,\n  duration: 0,\n  currentTime: 0,\n  buffered: null,\n  muted: false,\n  volume: 1,\n  playbackRate: 1,\n  enabled: !!document.pictureInPictureEnabled,\n  pictureInPictureEnabled: !!document.pictureInPictureEnabled,\n  pip: false,\n  fullscreen: false,\n  kernelMsg: null,\n};\n\nconst reducer = (state, action) => {\n  if ('reset' === action.type) {\n    return { ...initialState, ...action.payload };\n  }\n  return { ...state, ...action.payload };\n};\n\nexport default ({ src }) => {\n  const [\n    {\n      loading,\n      prevented,\n      paused,\n      ended,\n      seeking,\n      waiting,\n      duration,\n      currentTime,\n      buffered,\n      muted,\n      volume,\n      playbackRate,\n      pictureInPictureEnabled,\n      pip,\n      fullscreen,\n      kernelMsg,\n    },\n    dispatch,\n  ] = React.useReducer(reducer, initialState);\n  const ref = React.useRef({ src });\n\n  const clearUpdateTimeout = React.useCallback(() => {\n    if (ref.current && ref.current.timeout) {\n      global.clearTimeout(ref.current.timeout);\n      delete ref.current.timeout;\n    }\n  }, []);\n\n  const timeoutCallback = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    delete ref.current.timeout;\n    if (!ref.current.payload) {\n      return;\n    }\n    dispatch({ type: 'update', payload: ref.current.payload });\n    delete ref.current.payload;\n  }, [dispatch]);\n\n  const updateState = React.useCallback(\n    (payload, sync = false) => {\n      if (!ref.current) {\n        return;\n      }\n      ref.current.payload = { ...ref.current.payload, ...payload };\n      if (sync) {\n        timeoutCallback();\n        return;\n      }\n      if (ref.current.timeout) {\n        return;\n      }\n      ref.current.timeout = global.setTimeout(timeoutCallback, 100);\n    },\n    [timeoutCallback],\n  );\n\n  React.useEffect(() => {\n    return () => {\n      clearUpdateTimeout();\n      ref.current = null;\n    };\n  }, [clearUpdateTimeout]);\n\n  React.useEffect(() => {\n    clearUpdateTimeout();\n    dispatch({ type: 'reset' });\n  }, [src, clearUpdateTimeout]);\n\n  return {\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    duration,\n    currentTime,\n    buffered,\n    muted,\n    volume,\n    playbackRate,\n    pictureInPictureEnabled,\n    pip,\n    fullscreen,\n    kernelMsg,\n    updateState,\n  };\n};\n","import React from 'react';\nimport usePlayerReducer from '../hooks/usePlayerReducer';\nimport useVideoState from '../hooks/useVideoState';\nimport useTime from '../hooks/useTime';\nimport useVolume from '../hooks/useVolume';\nimport usePlaybackRate from '../hooks/usePlaybackRate';\nimport usePiP from '../hooks/usePiP';\nimport useFullscreen from '../hooks/useFullscreen';\n\nexport default ({ src, live, onKernelError }) => {\n  const videoRef = React.useRef(null);\n  const playerRef = React.useRef(null);\n\n  const {\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    duration,\n    currentTime,\n    buffered,\n    muted,\n    volume,\n    playbackRate,\n    pictureInPictureEnabled,\n    pip,\n    fullscreen,\n    kernelMsg,\n    updateState,\n  } = usePlayerReducer({ src });\n\n  const getVideoElement = React.useCallback(() => videoRef && videoRef.current, []);\n  const getPlayerElement = React.useCallback(() => playerRef && playerRef.current, []);\n\n  const onMsgChange = React.useCallback(\n    (msg) => {\n      // debugger;\n      updateState({ kernelMsg: msg });\n      if (onKernelError) {\n        onKernelError(msg);\n      }\n    },\n    [updateState, onKernelError],\n  );\n\n  const { onPauseClick, onPlayClick } = useVideoState({\n    src,\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    updateState,\n    getVideoElement,\n  });\n\n  const { changeCurrentTime } = useTime({ src, duration, currentTime, buffered, updateState, getVideoElement });\n  const { onMutedClick, changeVolume } = useVolume({ src, prevented, muted, volume, updateState, getVideoElement });\n  const { changePlaybackRate } = usePlaybackRate({ src, live, playbackRate, updateState, getVideoElement });\n  const { requestPictureInPicture, exitPictureInPicture } = usePiP({ src, pip, updateState, getVideoElement });\n  const { requestFullscreen, exitFullscreen } = useFullscreen({ updateState, getVideoElement, getPlayerElement });\n\n  return {\n    videoRef,\n    playerRef,\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    duration,\n    currentTime,\n    buffered,\n    muted,\n    volume,\n    playbackRate,\n    pictureInPictureEnabled,\n    pip,\n    fullscreen,\n    kernelMsg,\n    getVideoElement,\n    onPauseClick,\n    onPlayClick,\n    changeCurrentTime,\n    onMutedClick,\n    changeVolume,\n    changePlaybackRate,\n    requestPictureInPicture,\n    exitPictureInPicture,\n    requestFullscreen,\n    exitFullscreen,\n    onMsgChange,\n  };\n};\n","import React from 'react';\n\nexport default ({ src, loading, prevented, ended, updateState, getVideoElement }) => {\n  const ref = React.useRef({ getVideoElement, loading, prevented, ended });\n\n  const onPlayClick = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    const el = ref.current.getVideoElement();\n    if (el) {\n      if (ref.current.ended) {\n        el.currentTime = 0;\n      }\n      const p = el.play();\n      if (!p || !p.then) {\n        return;\n      }\n      p\n        // .then(() => updateState({ loading: false }))\n        .catch((e) => {\n          if (!ref.current || 'NotAllowedError' !== e.name) {\n            return Promise.resolve();\n          }\n          updateState({ prevented: true });\n          el.muted = true;\n          // NOTE: 桌面环境下静音可以播放，但是移动环境下静音不可以播放，需要分开处理\n          return el.play();\n        })\n        .catch((e) => {\n          if (!ref.current || 'NotAllowedError' !== e.name) {\n            return Promise.resolve();\n          }\n          // NOTE: 恢复静音状态，用户点击调用播放就可以了\n          el.muted = false;\n          return Promise.resolve();\n        });\n    }\n    updateState({ paused: false }, true);\n  }, [updateState]);\n\n  const onPauseClick = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.pause();\n    }\n    updateState({ paused: true }, true);\n  }, [updateState]);\n\n  const onCanPlay = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    updateState({ loading: false, waiting: false });\n    if (ref.current.loading) {\n      // NOTE: 电脑和安卓端自动播放处理，iOS 机制不一样单独调用了 onPlayClick\n      onPlayClick();\n    }\n  }, [updateState, onPlayClick]);\n\n  const onPause = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    updateState({ paused: true });\n  }, [updateState]);\n\n  const onPlay = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    updateState({ paused: false, ended: false });\n  }, [updateState]);\n\n  const onPlaying = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    updateState({ paused: false, ended: false });\n  }, [updateState]);\n\n  const onEnded = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    updateState({ ended: true });\n  }, [updateState]);\n\n  const onSeeked = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    updateState({ seeking: false });\n  }, [updateState]);\n\n  const onSeeking = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    updateState({ seeking: true });\n  }, [updateState]);\n\n  const onCanPlayThrough = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    updateState({ waiting: false });\n  }, [updateState]);\n\n  const onWaiting = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    updateState({ waiting: true });\n  }, [updateState]);\n\n  const onDocumentClick = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return;\n    }\n    // NOTE: addEventListener 使用了 once ，理论上是不需要 remove 的，这里做个保护\n    document.removeEventListener('click', onDocumentClick);\n    // NOTE: 自动播放已被阻止，桌面端取消静音就可以了，移动端需要再次调用 play\n    if (ref.current.prevented) {\n      if (el.muted) {\n        el.muted = false;\n      } else {\n        el.play();\n      }\n      updateState({ prevented: false });\n      return;\n    }\n    // NOTE: 未出现播放阻止的两种情况，一是已经在正常播放了，此时不要处理了，二是页面还未调用播放\n    if (ref.current.src) {\n      // NOTE: 未出现播放\n      return;\n    }\n    // NOTE: 页面发生点击的时候调用一下 video play，后续的自动播放可以成功\n    el.src = '';\n    try {\n      const p = el.play();\n      if (p) {\n        p.catch((e) => {\n          // eslint-disable-next-line no-console\n          console.log('useAutoplay[onDocumentClick]: load empty src for autoPlay, %o', e);\n        });\n      }\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.log('useAutoplay[onDocumentClick]: load empty src for autoPlay, %o', e);\n    }\n    // el.pause();\n  }, [updateState]);\n\n  React.useEffect(() => {\n    return () => {\n      ref.current = null;\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.src = src;\n    if (src) {\n      updateState({ loading: true }, true);\n    }\n  }, [src, updateState]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.loading = loading;\n    ref.current.prevented = prevented;\n    ref.current.ended = ended;\n  }, [loading, prevented, ended]);\n\n  React.useEffect(() => {\n    if (!ref.current || !ref.current.getVideoElement) {\n      return () => {};\n    }\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n\n    el.addEventListener('canplay', onCanPlay);\n    el.addEventListener('pause', onPause);\n    el.addEventListener('play', onPlay);\n    el.addEventListener('playing', onPlaying);\n    el.addEventListener('ended', onEnded);\n    el.addEventListener('seeked', onSeeked);\n    el.addEventListener('seeking', onSeeking);\n    el.addEventListener('canplaythrough', onCanPlayThrough);\n    el.addEventListener('waiting', onWaiting);\n    document.addEventListener('click', onDocumentClick, { once: true });\n    return () => {\n      el.removeEventListener('canplay', onCanPlay);\n      el.removeEventListener('pause', onPause);\n      el.removeEventListener('play', onPlay);\n      el.removeEventListener('playing', onPlaying);\n      el.removeEventListener('ended', onEnded);\n      el.removeEventListener('seeked', onSeeked);\n      el.removeEventListener('seeking', onSeeking);\n      el.removeEventListener('canplaythrough', onCanPlayThrough);\n      el.removeEventListener('waiting', onWaiting);\n      document.removeEventListener('click', onDocumentClick);\n    };\n  }, [\n    onCanPlay,\n    onPause,\n    onPlay,\n    onPlaying,\n    onEnded,\n    onSeeked,\n    onSeeking,\n    onCanPlayThrough,\n    onWaiting,\n    onDocumentClick,\n  ]);\n\n  return { onPauseClick, onPlayClick };\n};\n","import React from 'react';\n\nexport default ({ src, updateState, getVideoElement }) => {\n  const ref = React.useRef({ src, getVideoElement, timestamp: 0, payload: null });\n  // const updateRef = React.useRef(null);\n\n  const onDurationChange = React.useCallback(\n    (e) => {\n      if (!ref.current) {\n        return;\n      }\n      const v = e.target.duration;\n      // TODO: 同步更新\n      updateState({ duration: Number.isNaN(v) || Number.isFinite(v) || !v ? v : 0 });\n    },\n    [updateState],\n  );\n\n  const update = React.useCallback(\n    (timestamp) => {\n      if (!ref.current || !ref.current.payload) {\n        return;\n      }\n      if (ref.current.timestamp && !Number.isNaN(ref.current.timestamp) && 200 > timestamp - ref.current.timestamp) {\n        global.requestAnimationFrame(update);\n        return;\n      }\n      updateState(ref.current.payload);\n      ref.current.timestamp = timestamp;\n      delete ref.current.payload;\n    },\n    [updateState],\n  );\n\n  const onTimeUpdate = React.useCallback(\n    (e) => {\n      if (!ref.current || Number.isNaN(e.target.currentTime)) {\n        return;\n      }\n      if (ref.current.payload) {\n        ref.current.payload.currentTime = e.target.currentTime;\n      } else {\n        ref.current.payload = { currentTime: e.target.currentTime };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [update],\n  );\n\n  const onProgress = React.useCallback(\n    (e) => {\n      if (!ref.current || !(e.target.buffered instanceof TimeRanges)) {\n        return;\n      }\n      if (ref.current.payload) {\n        ref.current.payload.buffered = e.target.buffered;\n      } else {\n        ref.current.payload = { buffered: e.target.buffered };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [update],\n  );\n\n  const changeCurrentTime = React.useCallback(\n    (t) => {\n      if (!ref.current) {\n        return;\n      }\n      const v = parseFloat(t);\n      if (Number.isNaN(v)) {\n        return;\n      }\n      const el = ref.current.getVideoElement();\n      if (el) {\n        el.currentTime = v;\n      }\n      delete ref.current.payload;\n      updateState({ currentTime: v });\n    },\n    [updateState],\n  );\n\n  React.useEffect(() => {\n    return () => {\n      ref.current = null;\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.src = src;\n    ref.current.timestamp = 0;\n    ref.current.payload = null;\n  }, [src]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return () => {};\n    }\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('durationchange', onDurationChange);\n    el.addEventListener('timeupdate', onTimeUpdate);\n    el.addEventListener('progress', onProgress);\n    return () => {\n      el.removeEventListener('durationchange', onDurationChange);\n      el.removeEventListener('timeupdate', onTimeUpdate);\n      el.removeEventListener('progress', onProgress);\n    };\n  }, [onDurationChange, onTimeUpdate, onProgress]);\n\n  return { changeCurrentTime };\n};\n","import React from 'react';\n\nexport default ({ src, prevented, muted, volume, updateState, getVideoElement }) => {\n  const ref = React.useRef({ prevented, muted, volume, getVideoElement });\n\n  const onVolumeChange = React.useCallback(\n    (e) => {\n      if (!ref.current) {\n        return;\n      }\n      const payload = { volume: e.target.volume, muted: e.target.muted };\n      // if (false === payload.muted && ref.current.prevented) {\n      //   payload.prevented = false;\n      // }\n      if (0 === payload.volume) {\n        payload.muted = true;\n      }\n      updateState(payload);\n    },\n    [updateState],\n  );\n\n  const onMutedClick = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    const el = ref.current.getVideoElement();\n    if (el) {\n      const payload = { muted: !ref.current.muted };\n      el.muted = payload.muted;\n      if (0 === ref.current.volume && ref.current.muted) {\n        payload.volume = 1;\n        el.volume = payload.volume;\n      }\n      updateState(payload, true);\n    }\n  }, [updateState]);\n\n  const changeVolume = React.useCallback(\n    (v) => {\n      if (!ref.current) {\n        return;\n      }\n      const el = ref.current.getVideoElement();\n      const payload = { volume: v };\n      if (el) {\n        el.volume = v;\n      }\n      if (0 !== v && ref.current.muted) {\n        payload.muted = false;\n      }\n      updateState(payload, true);\n    },\n    [updateState],\n  );\n\n  React.useEffect(() => {\n    return () => {\n      ref.current = null;\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return () => {};\n    }\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('volumechange', onVolumeChange);\n    return () => {\n      el.removeEventListener('volumechange', onVolumeChange);\n    };\n  }, [onVolumeChange]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.prevented = prevented;\n    ref.current.muted = muted;\n    ref.current.volume = volume;\n  }, [prevented, muted, volume]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.muted = false;\n      el.volume = 1;\n    }\n  }, [src]);\n\n  return { onMutedClick, changeVolume };\n};\n","import React from 'react';\n\nexport default ({ src, live, updateState, getVideoElement }) => {\n  const ref = React.useRef({ live, getVideoElement });\n\n  const onRateChange = React.useCallback(\n    (e) => {\n      if (!ref.current) {\n        return;\n      }\n      if (Number.isNaN(e.target.playbackRate)) {\n        return;\n      }\n      updateState({ playbackRate: e.target.playbackRate });\n    },\n    [updateState],\n  );\n\n  const changePlaybackRate = React.useCallback(\n    (r) => {\n      if (!ref.current) {\n        return;\n      }\n      if (Number.isNaN(r)) {\n        return;\n      }\n      const v = ref.current.live ? 1 : r;\n      const el = ref.current.getVideoElement();\n      if (!el) {\n        return;\n      }\n      el.playbackRate = v;\n      updateState({ playbackRate: v }, true);\n    },\n    [updateState],\n  );\n\n  React.useEffect(() => {\n    return () => {\n      ref.current = null;\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.live = live;\n    if (live) {\n      changePlaybackRate(1);\n    }\n  }, [live, changePlaybackRate]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return () => {};\n    }\n    const el = getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('ratechange', onRateChange);\n    return () => {\n      el.removeEventListener('ratechange', onRateChange);\n    };\n  }, [getVideoElement, onRateChange]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.playbackRate = 1;\n    }\n  }, [src]);\n\n  return { changePlaybackRate };\n};\n","import React from 'react';\n\nexport default ({ src, pip, updateState, getVideoElement }) => {\n  const ref = React.useRef({ src, getVideoElement });\n\n  const requestPictureInPicture = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    const el = ref.current.getVideoElement();\n    if (el && el.requestPictureInPicture && ref.current.src) {\n      el.requestPictureInPicture();\n    }\n  }, []);\n\n  const exitPictureInPicture = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    if (document.exitPictureInPicture) {\n      document.exitPictureInPicture();\n    }\n  }, []);\n\n  const onEnterPictureInPicture = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    updateState({ pip: true });\n  }, [updateState]);\n\n  const onLeavePictureInPicture = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n    updateState({ pip: false });\n  }, [updateState]);\n\n  React.useEffect(() => {\n    return () => {\n      ref.current = null;\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return () => {};\n    }\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('enterpictureinpicture', onEnterPictureInPicture);\n    el.addEventListener('leavepictureinpicture', onLeavePictureInPicture);\n    return () => {\n      el.removeEventListener('enterpictureinpicture', onEnterPictureInPicture);\n      el.removeEventListener('leavepictureinpicture', onLeavePictureInPicture);\n    };\n  }, [onEnterPictureInPicture, onLeavePictureInPicture]);\n\n  React.useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.src = src;\n    if (pip && !src) {\n      exitPictureInPicture();\n    }\n  }, [src, pip, exitPictureInPicture]);\n\n  return { requestPictureInPicture, exitPictureInPicture };\n};\n","import React from 'react';\n\nexport default ({ updateState, getVideoElement, getPlayerElement }) => {\n  const requestFullscreen = React.useCallback(() => {\n    const el = getPlayerElement();\n    if (!el) {\n      // debug('useVideoFullscreen: 全屏异常，unmounted');\n      return;\n    }\n    if (el.requestFullscreen) {\n      el.requestFullscreen();\n    } else if (el.msRequestFullscreen) {\n      // 兼容 IE11\n      el.msRequestFullscreen();\n    } else if (el.webkitRequestFullscreen) {\n      // 兼容微信 PC 版内置浏览器\n      el.webkitRequestFullscreen();\n    } else {\n      const videoEl = getVideoElement();\n      if (videoEl && videoEl.webkitEnterFullScreen) {\n        // 兼容 iOS Safari\n        videoEl.webkitEnterFullScreen();\n      } else {\n        // 异常分支，不应该进入\n        // debug('useVideoFullscreen: 全屏异常，浏览器不支持 requestFullscreen');\n      }\n    }\n  }, [getVideoElement, getPlayerElement]);\n\n  const exitFullscreen = React.useCallback(() => {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    } else {\n      // 异常分支，不应该进入\n      // debug('useVideoFullscreen: 退出全屏异常，浏览器不支持 exitFullscreen');\n    }\n  }, []);\n\n  const onChange = React.useCallback(() => {\n    const el = getPlayerElement();\n    const fullscreenElement =\n      document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement;\n    updateState({ fullscreen: !!el && fullscreenElement === el });\n  }, [updateState, getPlayerElement]);\n\n  React.useEffect(() => {\n    document.addEventListener('fullscreenchange', onChange);\n    document.addEventListener('webkitfullscreenchange', onChange);\n    document.onmsfullscreenchange = onChange;\n    return () => {\n      document.removeEventListener('fullscreenchange', onChange);\n      document.removeEventListener('webkitfullscreenchange', onChange);\n      document.onmsfullscreenchange = null;\n    };\n  }, [onChange]);\n\n  return { requestFullscreen, exitFullscreen };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SRSWebRTC from '../SRSWebRTC';\nimport AliRTS from '../AliRTS';\nimport Flvjs from '../Flvjs';\nimport Hlsjs from '../Hlsjs';\nimport Native from '../Native';\nimport PlayerSkinWapper from '../PlayerSkinWapper';\nimport PlayerContext from '../PlayerContext';\nimport useReactjsPlayer from './useReactjsPlayer';\nimport styles from './index.module.less';\n\nconst ReactjsPlayer = ({\n  kernel,\n  live,\n  config,\n  onKernelError,\n  src,\n  type,\n  controls,\n  className,\n  videoProps,\n  playerProps,\n  children,\n}) => {\n  const {\n    videoRef,\n    playerRef,\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    duration,\n    currentTime,\n    buffered,\n    muted,\n    volume,\n    playbackRate,\n    pictureInPictureEnabled,\n    pip,\n    fullscreen,\n    kernelMsg,\n    getVideoElement,\n    onPauseClick,\n    onPlayClick,\n    changeCurrentTime,\n    onMutedClick,\n    changeVolume,\n    changePlaybackRate,\n    requestPictureInPicture,\n    exitPictureInPicture,\n    requestFullscreen,\n    exitFullscreen,\n    onMsgChange,\n  } = useReactjsPlayer({ src, live, onKernelError });\n\n  const kernelProps = { getVideoElement, src, config, onMsgChange };\n\n  return (\n    <div className={`${styles.reactjsPlayer} ${className}`} ref={playerRef} {...playerProps}>\n      {'srswebrtc' === kernel && <SRSWebRTC {...kernelProps} onPlayClick={onPlayClick} />}\n      {'alirts' === kernel && <AliRTS {...kernelProps} />}\n      {'flvjs' === kernel && <Flvjs {...kernelProps} />}\n      {'hlsjs' === kernel && <Hlsjs {...kernelProps} />}\n      {'native' === kernel && <Native {...kernelProps} onPlayClick={onPlayClick} />}\n      {/* eslint-disable-next-line jsx-a11y/media-has-caption */}\n      <video\n        className={styles.video}\n        ref={videoRef}\n        controls={'controls' === controls}\n        type={type}\n        autoPlay\n        preload=\"metadata\"\n        {...videoProps}\n      />\n      <PlayerContext.Provider\n        value={{\n          live,\n          src,\n          loading,\n          prevented,\n          paused,\n          ended,\n          seeking,\n          waiting,\n          duration,\n          currentTime,\n          buffered,\n          muted,\n          volume,\n          playbackRate,\n          pictureInPictureEnabled,\n          pip,\n          fullscreen,\n          kernelMsg,\n          getVideoElement,\n          onPauseClick,\n          onPlayClick,\n          changeCurrentTime,\n          onMutedClick,\n          changeVolume,\n          changePlaybackRate,\n          requestPictureInPicture,\n          exitPictureInPicture,\n          requestFullscreen,\n          exitFullscreen,\n        }}\n      >\n        {true === controls && <PlayerSkinWapper />}\n        {children}\n      </PlayerContext.Provider>\n    </div>\n  );\n};\n\nReactjsPlayer.propTypes = {\n  kernel: PropTypes.oneOf(['srswebrtc', 'alirts', 'flvjs', 'hlsjs', 'native']).isRequired,\n  live: PropTypes.bool.isRequired,\n  config: PropTypes.object,\n  onKernelError: PropTypes.func,\n\n  src: PropTypes.string,\n  type: PropTypes.string.isRequired,\n  controls: PropTypes.oneOf([false, true, 'controls']),\n\n  className: PropTypes.string,\n  videoProps: PropTypes.object,\n  playerProps: PropTypes.object,\n\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n};\n\nReactjsPlayer.defaultProps = {\n  config: null,\n  onKernelError: null,\n\n  src: '',\n  controls: true,\n\n  className: '',\n  videoProps: null,\n  playerProps: null,\n\n  children: null,\n};\n\nexport default React.memo(\n  ReactjsPlayer,\n  (p, n) =>\n    p.kernel === n.kernel &&\n    p.live === n.live &&\n    p.config === n.config &&\n    p.onKernelError === n.onKernelError &&\n    p.src === n.src &&\n    p.type === n.type &&\n    p.controls === n.controls &&\n    p.className === n.className &&\n    p.videoProps === n.videoProps &&\n    p.playerProps === n.playerProps &&\n    p.children === n.children,\n);\n","import { EventEmitter } from 'fbemitter';\n\nlet emitter = null;\nlet index = 0;\n\nclass GrindPlayer {\n  /**\n   * 创建 GrindPlayer 实例\n   */\n  constructor(id) {\n    this.id = id;\n    this.el = null;\n    this.emitter = new EventEmitter();\n    this.tokenList = [];\n    this.eventMap = [];\n\n    this.addListener();\n  }\n\n  addListener() {\n    if (!emitter) {\n      emitter = new EventEmitter();\n    }\n\n    this.tokenList = [\n      emitter.addListener(`${this.id}.onJavaScriptBridgeCreated`, () => {\n        this.el = document.getElementById(this.id);\n        // this.el.addEventListener('mediaError', () => );\n      }),\n      emitter.addListener(`${this.id}.mediaSize`, (data) => {\n        if (0 === data.videoHeight && 0 === data.videoWidth) {\n          this.emitter.emit('canplay');\n        } else {\n          this.emitter.emit('canplaythrough');\n        }\n      }),\n      emitter.addListener(`${this.id}.paused`, () => this.emitter.emit('pause')),\n      emitter.addListener(`${this.id}.playing`, () => this.emitter.emit('playing')),\n      emitter.addListener(`${this.id}.seeking`, () => this.emitter.emit('seeking')),\n      emitter.addListener(`${this.id}.seeked`, () => this.emitter.emit('seeked')),\n      emitter.addListener(`${this.id}.complete`, () => this.emitter.emit('ended')),\n      emitter.addListener(`${this.id}.buffering`, () => this.emitter.emit('waiting')),\n\n      emitter.addListener(`${this.id}.durationChange`, (e) => this.emitter.emit('durationchange', e)),\n      emitter.addListener(`${this.id}.timeChange`, (e) => this.emitter.emit('timeupdate', e)),\n      emitter.addListener(`${this.id}.progress`, (e) => this.emitter.emit('progress', e)),\n\n      emitter.addListener(`${this.id}.volumeChange`, (e) => this.emitter.emit('volumechange', e)),\n    ];\n  }\n\n  invoker(methodName, ...args) {\n    if (!this.el) {\n      return;\n    }\n    this.el[methodName](...args);\n  }\n\n  addEventListener(event, fn) {\n    if (!this.eventMap) {\n      return;\n    }\n    const token = this.emitter.addListener(event, fn);\n    this.eventMap.push({ token, event, fn });\n  }\n\n  removeEventListener(event, fn) {\n    if (!this.eventMap) {\n      return;\n    }\n    this.eventMap = this.eventMap.filter((it) => {\n      if (it.event !== event) {\n        return true;\n      }\n      if (!fn && it.fn !== fn) {\n        return true;\n      }\n      it.token.remove();\n      return false;\n    });\n  }\n\n  destroy() {\n    if (this.eventMap) {\n      this.eventMap.map((it) => it.token.remove());\n      delete this.eventMap;\n    }\n\n    if (this.tokenList) {\n      this.tokenList.map((it) => it.remove());\n      delete this.tokenList;\n    }\n\n    if (this.emitter) {\n      this.emitter.removeAllListeners();\n    }\n    delete this.emitter;\n\n    delete this.id;\n    delete this.el;\n  }\n}\n\nconst onJSBridge = (playerId, event, data) => {\n  if (!emitter) {\n    emitter = new EventEmitter();\n  }\n  console.log(`${event}: ${JSON.stringify(data)}`);\n  emitter.emit(`${playerId}.${event}`, data);\n};\n\nexport default {\n  getPlayerId: () => `grindPlayer${index++}`,\n\n  getGrindPlayer: (id, javascriptCallbackFunction) => {\n    if (!global[javascriptCallbackFunction]) {\n      global[javascriptCallbackFunction] = onJSBridge;\n    }\n    return new GrindPlayer(id);\n  },\n};\n","import React from 'react';\nimport GrindPlayer from './GrindPlayer';\n\nconst initialState = {\n  loading: false,\n  prevented: false,\n  paused: false,\n  ended: false,\n  seeking: false,\n  waiting: false,\n  duration: 0,\n  currentTime: 0,\n  buffered: null,\n  muted: false,\n  volume: 1,\n  pictureInPictureEnabled: false,\n  pip: false,\n  fullscreen: false,\n  playbackRate: 1,\n  javascriptCallbackFunction: 'onJSBridge',\n  kernelMsg: null,\n};\n\nconst reducer = (state, action) => {\n  if ('reset' === action.type) {\n    return { ...initialState, ...action.payload };\n  }\n  return { ...state, ...action.payload };\n};\n\nexport default ({ src }) => {\n  const [\n    {\n      loading,\n      prevented,\n      paused,\n      ended,\n      seeking,\n      waiting,\n      duration,\n      currentTime,\n      buffered,\n      muted,\n      volume,\n      pictureInPictureEnabled,\n      pip,\n      fullscreen,\n      playbackRate,\n      javascriptCallbackFunction,\n      kernelMsg,\n    },\n    dispatch,\n  ] = React.useReducer(reducer, initialState);\n\n  const id = React.useMemo(() => GrindPlayer.getPlayerId(), []);\n  const ref = React.useRef({});\n\n  React.useEffect(() => {\n    const player = GrindPlayer.getGrindPlayer(id, javascriptCallbackFunction);\n    ref.current.player = player;\n    return () => {\n      player.destroy();\n      ref.current = null;\n    };\n  }, [id, javascriptCallbackFunction]);\n\n  React.useEffect(() => {\n    ref.current.loading = loading;\n    ref.current.ended = ended;\n    ref.current.muted = muted;\n    ref.current.volume = volume;\n  }, [loading, ended, muted, volume]);\n\n  React.useEffect(() => {\n    dispatch({ type: 'reset', payload: { loading: !!src } });\n  }, [src]);\n\n  return {\n    ref,\n    dispatch,\n    id,\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    duration,\n    currentTime,\n    buffered,\n    muted,\n    volume,\n    pictureInPictureEnabled,\n    pip,\n    fullscreen,\n    playbackRate,\n    javascriptCallbackFunction,\n    kernelMsg,\n  };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactSWF from 'react-swf';\nimport './GrindPlayer.swf';\nimport './flashlsOSMF.swf';\nimport PlayerContext from '../PlayerContext';\nimport useGrindPlayer from './useGrindPlayer';\nimport useState from './useState';\nimport useTime from './useTime';\nimport useVolume from './useVolume';\nimport styles from './index.module.less';\n\nconst GrindPlayer = ({ live, src, type, grindPlayerSwf, flashlsOSMFSwf }) => {\n  const { ref, dispatch, id, javascriptCallbackFunction, ...state } = useGrindPlayer({ src });\n\n  const stateProps = useState({ ref, dispatch });\n  const timeProps = useTime({ ref, dispatch });\n  const volumeProps = useVolume({ ref, dispatch });\n\n  return (\n    <div className={styles.grindPlayer}>\n      {src && (\n        <ReactSWF\n          id={id}\n          src={grindPlayerSwf}\n          width=\"100%\"\n          height=\"100%\"\n          wmode=\"opaque\"\n          allowFullScreen\n          allowScriptAccess=\"always\"\n          bgcolor=\"#000000\"\n          flashVars={{\n            src,\n            autoPlay: true,\n            bufferTime: 0.5,\n            streamType: live ? 'live' : 'recorded',\n            plugin_hls: 'application/x-mpegURL' === type ? flashlsOSMFSwf : undefined,\n            javascriptCallbackFunction,\n          }}\n        />\n      )}\n      <PlayerContext.Provider\n        value={{\n          live,\n          src,\n          ...state,\n          ...stateProps,\n          ...timeProps,\n          ...volumeProps,\n        }}\n      />\n    </div>\n  );\n};\n\nGrindPlayer.propTypes = {\n  live: PropTypes.bool,\n  src: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  grindPlayerSwf: PropTypes.string,\n  flashlsOSMFSwf: PropTypes.string,\n};\n\nGrindPlayer.defaultProps = {\n  live: true,\n  grindPlayerSwf: 'http://unpkg.com/reactjs-player/dist/GrindPlayer.swf',\n  flashlsOSMFSwf: 'http://unpkg.com/reactjs-player/dist/flashlsOSMF.swf',\n};\n\nexport default React.memo(GrindPlayer);\n","import React from 'react';\n\nexport default ({ ref, dispatch }) => {\n  const onPlayClick = React.useCallback(() => {\n    if (ref.current.player) {\n      if (ref.current.ended) {\n        ref.current.player.invoker('seek', 0);\n      }\n      ref.current.player.invoker('play2');\n    }\n    dispatch({ type: 'update', payload: { paused: false } });\n  }, [ref, dispatch]);\n\n  const onPauseClick = React.useCallback(() => {\n    if (ref.current.player) {\n      ref.current.player.invoker('pause');\n    }\n    dispatch({ type: 'update', payload: { paused: true } });\n  }, [ref, dispatch]);\n\n  const onCanPlayThrough = React.useCallback(() => {\n    if (ref.current.loading) {\n      dispatch({ type: 'update', payload: { loading: false } });\n    }\n    dispatch({ type: 'update', payload: { waiting: false } });\n  }, [ref, dispatch]);\n\n  const onPause = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { paused: true } });\n  }, [dispatch]);\n\n  const onPlaying = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { paused: false, ended: false } });\n  }, [dispatch]);\n\n  const onEnded = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { ended: true } });\n  }, [dispatch]);\n\n  const onSeeked = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { seeking: false } });\n  }, [dispatch]);\n\n  const onSeeking = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { seeking: true } });\n  }, [dispatch]);\n\n  const onWaiting = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { waiting: true } });\n  }, [dispatch]);\n\n  React.useEffect(() => {\n    const { player } = ref.current;\n    if (!player) {\n      return () => {};\n    }\n    player.addEventListener('canplaythrough', onCanPlayThrough);\n    player.addEventListener('pause', onPause);\n    player.addEventListener('playing', onPlaying);\n    player.addEventListener('ended', onEnded);\n    player.addEventListener('seeked', onSeeked);\n    player.addEventListener('seeking', onSeeking);\n    player.addEventListener('waiting', onWaiting);\n    return () => {\n      player.removeEventListener('canplaythrough', onCanPlayThrough);\n      player.removeEventListener('pause', onPause);\n      player.removeEventListener('playing', onPlaying);\n      player.removeEventListener('ended', onEnded);\n      player.removeEventListener('seeked', onSeeked);\n      player.removeEventListener('seeking', onSeeking);\n      player.removeEventListener('waiting', onWaiting);\n    };\n  }, [ref, onCanPlayThrough, onPause, onPlaying, onEnded, onSeeked, onSeeking, onWaiting]);\n\n  return { onPauseClick, onPlayClick };\n};\n","import React from 'react';\n\nexport default ({ ref, dispatch }) => {\n  const onDurationChange = React.useCallback(\n    (e) => {\n      const v = e.duration;\n      dispatch({ type: 'update', payload: { duration: Number.isNaN(v) || Number.isFinite(v) || !v ? v : 0 } });\n    },\n    [dispatch],\n  );\n\n  const onTimeUpdate = React.useCallback(\n    (e) => {\n      if (Number.isNaN(e.currentTime)) {\n        return;\n      }\n      dispatch({ type: 'update', payload: { currentTime: e.currentTime } });\n    },\n    [dispatch],\n  );\n\n  const onProgress = React.useCallback(\n    (e) => dispatch({ type: 'update', payload: { buffered: e.buffered } }),\n    [dispatch],\n  );\n\n  const changeCurrentTime = React.useCallback(\n    (t) => {\n      const v = parseFloat(t);\n      if (Number.isNaN(v) || !ref.current || !ref.current.player) {\n        return;\n      }\n      ref.current.player.invoker('seek', v);\n      dispatch({ type: 'update', payload: { currentTime: v } });\n    },\n    [ref, dispatch],\n  );\n\n  React.useEffect(() => {\n    const { player } = ref.current;\n    if (!player) {\n      return () => {};\n    }\n    player.addEventListener('durationchange', onDurationChange);\n    player.addEventListener('timeupdate', onTimeUpdate);\n    player.addEventListener('progress', onProgress);\n    return () => {\n      player.removeEventListener('durationchange', onDurationChange);\n      player.removeEventListener('timeupdate', onTimeUpdate);\n      player.removeEventListener('progress', onProgress);\n    };\n  }, [ref, onDurationChange, onTimeUpdate, onProgress]);\n\n  return { changeCurrentTime };\n};\n","import React from 'react';\n\nexport default ({ ref, dispatch }) => {\n  const onVolumeChange = React.useCallback((e) => dispatch({ type: 'update', payload: e }), [dispatch]);\n\n  const onMutedClick = React.useCallback(() => {\n    if (!ref.current || !ref.current.player) {\n      return;\n    }\n    const { muted } = ref.current;\n    ref.current.player.invoker('setMuted', !muted);\n    if (0 === ref.current.volume && muted) {\n      ref.current.player.invoker('setVolume', 1.0);\n    }\n  }, [ref]);\n\n  const changeVolume = React.useCallback(\n    (v) => {\n      if (ref.current && ref.current.player) {\n        ref.current.player.invoker('setVolume', v);\n      }\n    },\n    [ref],\n  );\n\n  React.useEffect(() => {\n    if (!ref.current || !ref.current.player) {\n      return () => {};\n    }\n    const { player } = ref.current;\n    player.addEventListener('volumechange', onVolumeChange);\n    return () => {\n      player.removeEventListener('volumechange', onVolumeChange);\n    };\n  }, [ref, onVolumeChange]);\n\n  return { onMutedClick, changeVolume };\n};\n","import ReactjsPlayer from './ReactjsPlayer';\nimport GrindPlayer from './GrindPlayer';\nimport PlayerContext from './PlayerContext';\nimport PlayerSkin from './PlayerSkin';\n\nReactjsPlayer.GrindPlayer = GrindPlayer;\nReactjsPlayer.PlayerContext = PlayerContext;\nReactjsPlayer.PlayerSkin = PlayerSkin;\n\nexport default ReactjsPlayer;\n","import React from 'react';\nimport UAParser from 'ua-parser-js';\nimport { Form, Select, Input, Button, Tabs, Descriptions } from 'antd';\nimport { GithubOutlined } from '@ant-design/icons';\nimport { Scrollbars } from 'react-custom-scrollbars';\n\nimport Hls from 'hls.js';\nimport flvjs from 'flv.js';\nimport { AliRTS } from 'aliyun-rts-sdk/dist/aliyun-rts-sdk-without-adapter.js';\nimport ReactjsPlayer from 'reactjs-player';\n// import grindPlayerSwf from 'reactjs-player/dist/GrindPlayer.swf';\n// import flashlsOSMFSwf from 'reactjs-player/dist/flashlsOSMF.swf';\n\nimport PlaybackRate from './PlaybackRate';\nimport FouceLive from './FouceLive';\nimport blank16x9 from './blank16x9.png';\nimport './App.css';\n\n// const GrindPlayer = ReactjsPlayer.GrindPlayer;\n// const ReactPlayerContext = ReactjsPlayer.ReactPlayerContext;\nglobal.Hls = Hls;\nglobal.flvjs = flvjs;\nglobal.AliRTS = AliRTS;\n\nconst delay = (timeout) =>\n  new Promise((resolve) => {\n    global.setTimeout(resolve, timeout);\n  });\n\nconst getSupportedList = (ua) => {\n  return [\n    {\n      key: 'srswebrtc',\n      kernel: 'srswebrtc',\n      live: true,\n      src: 'webrtc://219.138.162.218/quick/r6uh_z7RSY2ovBplSgZjEw',\n      type: '',\n      config: {\n        // api: '',\n        // hostname: '',\n      },\n    },\n    {\n      key: 'alirts',\n      kernel: 'alirts',\n      live: true,\n      src: 'artc://a.lcdn.opensight.cn/alicdn/LULAyun4Q0ibCpSuj1vSrw?auth_key=1687020149-0-0-fc7129da8b191fb3c1c08805ca5fa3ee',\n      type: '',\n    },\n    {\n      key: 'flvjs',\n      kernel: 'flvjs',\n      live: true,\n      src: 'http://192.168.0.221/flv_srs/quick/OAyEgozBSTqNC4Ou8SZk_A.flv',\n      type: 'video/x-flv',\n      config: {\n        isLive: true,\n        enableStashBuffer: false,\n        autoCleanupSourceBuffer: true,\n        stashInitialSize: 16 * 1024,\n        fixAudioTimestampGap: false,\n      },\n    },\n    {\n      key: 'hlsjs',\n      kernel: 'hlsjs',\n      live: true,\n      src: 'http://192.168.0.222/hls_srs/quick/1VU0lHXqSva4TFvmJyqVqg.m3u8',\n      type: 'application/x-mpegURL',\n    },\n    {\n      key: 'hlsjs-playback',\n      kernel: 'hlsjs',\n      live: false,\n      src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n      type: 'application/x-mpegURL',\n    },\n    {\n      key: 'native-playback',\n      kernel: 'native',\n      live: false,\n      src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n      type: 'application/x-mpegURL',\n    },\n  ];\n};\n\nconst App = React.memo(() => {\n  const [list, setList] = React.useState(null);\n  const [info, setInfo] = React.useState(null);\n  const [src, setSrc] = React.useState('');\n  const [videoProps, setVideoProps] = React.useState(null);\n  const ref = React.useRef(list);\n\n  const [form] = Form.useForm();\n\n  const onChange = React.useCallback(\n    (v) => {\n      const item = list.find((it) => it.key === v);\n      form.setFieldsValue({ src: item.src });\n    },\n    [form, list],\n  );\n\n  const onSubmit = React.useCallback(async (values) => {\n    setSrc('');\n    await delay(50);\n    const item = ref.current.find((it) => it.key === values.type);\n    setInfo(item);\n    setSrc(values.src);\n  }, []);\n\n  React.useEffect(() => {\n    ref.current = list;\n  }, [list]);\n\n  React.useEffect(() => {\n    const ua = UAParser(global.navigator.userAgent);\n    if (ua.device.type) {\n      setVideoProps({\n        playsInline: true,\n        'webkit-playsinline': 'true',\n        'x5-video-player-type': 'h5-page',\n        'x5-video-orientation': 'landscape|portrait',\n      });\n    }\n    const supportedList = getSupportedList(ua);\n    setList(supportedList);\n    ref.current = supportedList;\n    setInfo(supportedList[0]);\n    // NOTE: 测试自动播放的情况\n    onSubmit({ type: supportedList[0].key, src: supportedList[0].src });\n  }, [onSubmit]);\n\n  const onVideoEvent = React.useCallback((e) => {\n    const log = console.log;\n    log(`e.type: ${e.type}`);\n    // if ('durationchange' === e.type) {\n    //   log(`durationchange: ${e.target.duration}`);\n    // }\n  }, []);\n\n  if (!list || 0 === list.length || !info) {\n    return null;\n  }\n\n  return (\n    <div className=\"container\">\n      <header className=\"header\">\n        <Form\n          className=\"form\"\n          layout=\"inline\"\n          form={form}\n          onFinish={onSubmit}\n          initialValues={{ type: info.key, src: info.src }}\n        >\n          <Form.Item className=\"type\" name=\"type\">\n            <Select onChange={onChange}>\n              {list.map((it) => (\n                <Select.Option key={it.key} value={it.key}>\n                  {it.key}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          <Form.Item className=\"src\" name=\"src\">\n            <Input />\n          </Form.Item>\n          <Form.Item className=\"submit\">\n            <Button type=\"primary\" htmlType=\"submit\">\n              播放\n            </Button>\n          </Form.Item>\n        </Form>\n      </header>\n      <main className=\"main\">\n        <div className=\"player\">\n          <img className=\"blankImg\" src={blank16x9} alt=\"\" />\n          {'flash' !== info.kernel && (\n            <ReactjsPlayer\n              live={info.live}\n              kernel={info.kernel}\n              type={info.type}\n              config={info.config || {}}\n              src={src}\n              videoProps={{\n                ...videoProps,\n                onCanPlay: onVideoEvent,\n                onDurationChange: onVideoEvent,\n                onPause: onVideoEvent,\n                onPlay: onVideoEvent,\n                onPlaying: onVideoEvent,\n                onEnded: onVideoEvent,\n                onSeeked: onVideoEvent,\n                onSeeking: onVideoEvent,\n                onCanPlayThrough: onVideoEvent,\n                onEmptied: onVideoEvent,\n                onEncrypted: onVideoEvent,\n                onError: onVideoEvent,\n                onLoadedData: onVideoEvent,\n                onLoadedMetadata: onVideoEvent,\n                onLoadStart: onVideoEvent,\n                onRateChange: onVideoEvent,\n                onStalled: onVideoEvent,\n                onSuspend: onVideoEvent,\n                onVolumeChange: onVideoEvent,\n                onWaiting: onVideoEvent,\n                onAbort: onVideoEvent,\n              }}\n            >\n              <PlaybackRate></PlaybackRate>\n              {'flvjs' === info.kernel && info.live && <FouceLive></FouceLive>}\n            </ReactjsPlayer>\n          )}\n        </div>\n        <aside className=\"aside\">\n          <div className=\"asideContainer\">\n            <Tabs className=\"asideTabs\" defaultActiveKey=\"info\">\n              <Tabs.TabPane tab=\"信息\" key=\"info\">\n                <Scrollbars>\n                  <div className=\"infoTabPane\">\n                    <Descriptions title=\"参数\" column={1} size=\"small\">\n                      <Descriptions.Item label=\"kernel\">{info.kernel}</Descriptions.Item>\n                      <Descriptions.Item label=\"live\">{info.live ? '是' : '否'}</Descriptions.Item>\n                      <Descriptions.Item label=\"src\">\n                        <span className=\"srcValue\">{src}</span>\n                      </Descriptions.Item>\n                      <Descriptions.Item label=\"type\">{info.type}</Descriptions.Item>\n                    </Descriptions>\n                  </div>\n                </Scrollbars>\n              </Tabs.TabPane>\n              <Tabs.TabPane tab=\"接口测试\" key=\"interface\">\n                <Scrollbars>\n                  <div className=\"infoTabPane\">暂时删除接口测试功能</div>\n                </Scrollbars>\n              </Tabs.TabPane>\n            </Tabs>\n            <div className=\"asideFooter\">\n              <a href=\"https://github.com/goblin-laboratory/reactjs-player\">\n                <GithubOutlined />\n                &nbsp; Github\n              </a>\n            </div>\n          </div>\n        </aside>\n      </main>\n    </div>\n  );\n});\n\nexport default App;\n","import React from 'react';\nimport ReactjsPlayer from 'reactjs-player';\nimport log from 'loglevel';\n\nconst PlaybackRate = () => {\n  const { playbackRate } = React.useContext(ReactjsPlayer.PlayerContext);\n  const changeRate = React.useCallback((rate) => {\n    log.info(`Current playback rate is ${rate}.`);\n  }, []);\n\n  React.useEffect(() => {\n    changeRate(playbackRate);\n  }, [playbackRate, changeRate]);\n\n  return null;\n};\n\nexport default React.memo(PlaybackRate, () => true);\n","import React from 'react';\nimport ReactjsPlayer from 'reactjs-player';\n\nconst FouceLive = () => {\n  const { getVideoElement, changeCurrentTime } = React.useContext(ReactjsPlayer.PlayerContext);\n  React.useEffect(() => {\n    const id = global.setInterval(() => {\n      if (!getVideoElement) {\n        return;\n      }\n      const el = getVideoElement();\n      if (!el || el.paused || !el.buffered) {\n        return;\n      }\n      const end = el.buffered.end(el.buffered.length - 1);\n      if (2 < end - el.currentTime) {\n        changeCurrentTime(end - 0.5);\n      }\n    }, 10 * 1000);\n    return () => {\n      global.clearInterval(id);\n    };\n  }, [getVideoElement, changeCurrentTime]);\n\n  return null;\n};\n\nexport default React.memo(FouceLive, () => true);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAYAAAA7KqwyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wMi0yOFQxODoyNDozNCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDgtMjBUMTQ6Mzg6MzkrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDgtMjBUMTQ6Mzg6MzkrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDljYTEwNTMtNTU4Ny1lYjQ4LWEyMzEtZWY0MTUzNjRjYmY2IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6Y2QyYjVhMTMtN2E2NC1lZDQ3LWE2NDctZWQwNDExMDgxMTFmIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6M2NkZWQyZmItOWFmMi1lODQ2LWE5MGYtNTdhOGUyYzk3OGY2Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozY2RlZDJmYi05YWYyLWU4NDYtYTkwZi01N2E4ZTJjOTc4ZjYiIHN0RXZ0OndoZW49IjIwMTgtMDItMjhUMTg6MjQ6MzQrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA5Y2ExMDUzLTU1ODctZWI0OC1hMjMxLWVmNDE1MzY0Y2JmNiIgc3RFdnQ6d2hlbj0iMjAxOC0wOC0yMFQxNDozODozOSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7p7qgTAAAAFklEQVQokWP4//8/AyWYIs2jBgwbAwCgra5gnLDJrQAAAABJRU5ErkJggg==\"","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport VConsole from 'vconsole';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n// eslint-disable-next-line no-unused-vars\nconst vConsole = new VConsole();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}